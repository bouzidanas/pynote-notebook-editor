import{d as kt,p as W,e as B,f as V,g as ie,t as u,h as Oe,j as F,k as K,u as re,i as r,c as t,F as Me,S as A,l as Dt,a as Ot,m as Rt,b as Re,n as Tt,o as le,q as Nt,P as Ut,r as he,v as Ht,w as Bt,x as Ft,y as Kt,z as Le,A as jt,B as Fe,C as wt,E as Wt}from"./framework-B_2cIPq2.js";import{m as qt,k as Xt}from"./katex-CFOwh_x2.js";import{P as xe,c as G,p as St,s as zt,h as Et,i as It,j as Gt,t as Te,n as Jt,q as Yt,w as Qt,x as ae,y as Ke,z as je,A as We,B as qe,C as ve,D as Xe,F as Ge,G as ne,H as Je,I as Ye,J as Qe,K as Ve,L as Ze,M as et,N as tt,Q as Vt,S as oe,T as be,U as ge,V as _e,W as Zt,X as fe,Y as ye,Z as rt,_ as nt,$ as er}from"./vendor-NR_Yjaca.js";import{P as tr,$ as rr,a as nr,D as Ce,b as lt,t as lr,c as ir,w as me,d as it,e as st,f as ot,g as at,h as dt,i as ct,j as ut,k as gt,l as ft,m as sr,n as or,o as ar,E as dr,r as cr,p as ur,q as gr,s as fr,u as mr,v as hr,x as vr,y as pr,z as $r,A as xr,B as ke,C as mt,F as br,G as _r,H as ht}from"./milkdown-Cs4R5wc5.js";import{d as de,p as yr}from"./markdown-5gHqQypg.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const a of d)if(a.type==="childList")for(const g of a.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function s(d){const a={};return d.integrity&&(a.integrity=d.integrity),d.referrerPolicy&&(a.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?a.credentials="include":d.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(d){if(d.ep)return;d.ep=!0;const a=s(d);fetch(d.href,a)}})();const Cr=100,kr=[{id:crypto.randomUUID(),type:"markdown",content:`# Welcome to PyNote

This is a **modern** notebook running Python in your browser via WebAssembly (Pyodide).

Double click a cell to edit. Drag handle to reorder.`},{id:crypto.randomUUID(),type:"code",content:`print('Hello from Pyodide!')
import sys
print(sys.version)`}],[U,M]=kt({cells:[],filename:"untitled.ipynb",activeCellId:null,history:[],historyIndex:-1,presentationMode:!1}),C=U,we=e=>{M(W(n=>{n.historyIndex<n.history.length-1&&(n.history=n.history.slice(0,n.historyIndex+1)),n.history.push(e),n.history.length>Cr?n.history.shift():n.historyIndex++}))},$={addCell:(e,n)=>{const s=crypto.randomUUID(),i=n!==void 0?n:U.cells.length;M("cells",W(d=>{const a={id:s,type:e,content:"",isEditing:!0};n!==void 0?d.splice(n,0,a):d.push(a)})),we(`a|${i}|${e}|${s}`),$.setActiveCell(s),$.__autosaveCallback&&$.__autosaveCallback()},updateCell:(e,n)=>{M("cells",s=>s.id===e,"content",n),$.__autosaveCallback&&$.__autosaveCallback()},updateCellOutput:(e,n)=>{M("cells",s=>s.id===e,"outputs",n)},clearCellOutput:e=>{M("cells",n=>n.id===e,"outputs",void 0)},deleteCell:e=>{const n=U.cells.find(i=>i.id===e),s=U.cells.findIndex(i=>i.id===e);if(s!==-1&&n){const i=n.content.replace(/\|/g,"\\|");we(`d|${s}|${n.type}|${e}|${i}`),M("cells",W(d=>{d.splice(s,1)}))}$.__autosaveCallback&&$.__autosaveCallback()},moveCell:(e,n)=>{const s=U.cells[e];s&&(we(`m|${e}|${n}|${s.id}`),M("cells",W(i=>{const[d]=i.splice(e,1);i.splice(n,0,d)})),$.__autosaveCallback&&$.__autosaveCallback())},undo:()=>{if(U.historyIndex<0)return;const n=U.history[U.historyIndex].split("|"),s=n[0];if(M("historyIndex",U.historyIndex-1),s==="a"){const[,i,,]=n,d=parseInt(i);M("cells",W(a=>{a.splice(d,1)}))}else if(s==="d"){const[,i,d,a,...g]=n,v=parseInt(i),m=g.join("|").replace(/\\\|/g,"|");M("cells",W(w=>{w.splice(v,0,{id:a,type:d,content:m,isEditing:!1})}))}else if(s==="m"){const[,i,d]=n,a=parseInt(i),g=parseInt(d);M("cells",W(v=>{const[m]=v.splice(g,1);v.splice(a,0,m)}))}},redo:()=>{if(U.historyIndex>=U.history.length-1)return;M("historyIndex",U.historyIndex+1);const n=U.history[U.historyIndex].split("|"),s=n[0];if(s==="a"){const[,i,d,a]=n,g=parseInt(i);M("cells",W(v=>{v.splice(g,0,{id:a,type:d,content:"",isEditing:!1})}))}else if(s==="d"){const[,i]=n,d=parseInt(i);M("cells",W(a=>{a.splice(d,1)}))}else if(s==="m"){const[,i,d]=n,a=parseInt(i),g=parseInt(d);M("cells",W(v=>{const[m]=v.splice(a,1);v.splice(g,0,m)}))}},setActiveCell:e=>{M("activeCellId",e),M("cells",n=>n.id!==e,"isEditing",!1)},__autosaveCallback:void 0,__setAutosaveCallback(e){$.__autosaveCallback=e},setEditing:(e,n)=>{M("cells",s=>s.id===e,"isEditing",n),!n&&$.__autosaveCallback&&$.__autosaveCallback()},loadNotebook:(e,n,s)=>{M({cells:e,filename:n,history:s||[],historyIndex:s?s.length-1:-1})},setPresentationMode:e=>{M("presentationMode",e),e&&(M("activeCellId",null),M("cells",()=>!0,"isEditing",!1))}};class wr{worker=null;listeners=new Map;_status;_setStatus;constructor(){const[n,s]=B("loading");this._status=n,this._setStatus=s}get status(){return this._status()}init(){this.worker&&this.terminate(),this._setStatus("loading"),this.worker=new Worker(new URL("/assets/pyodide.worker-CNFnQ8MR.js",import.meta.url),{type:"module"}),this.worker.onmessage=n=>{const{type:s,id:i,error:d}=n.data;s==="ready"?this._setStatus("ready"):s==="error"&&!i?(console.error("Pyodide Init Error:",d),this._setStatus("error")):i&&this.listeners.has(i)&&this.listeners.get(i)(n.data)},this.worker.postMessage({type:"init"})}run(n,s){if(!this.worker||this.status!=="ready"&&this.status!=="running")throw this.status==="stopped"?new Error("Kernel is stopped"):new Error("Kernel not ready");const i=Math.random().toString(36).substring(7);this._setStatus("running");const d={stdout:[],stderr:[]};return new Promise(a=>{this.listeners.set(i,g=>{g.type==="stdout"?(d.stdout.push(g.content),s({...d})):g.type==="stderr"?(d.stderr.push(g.content),s({...d})):g.type==="success"?(d.result=g.result,s({...d}),this.listeners.delete(i),this._setStatus("ready"),a()):g.type==="error"&&(d.error=g.error,s({...d}),this.listeners.delete(i),this._setStatus("ready"),a())}),this.worker.postMessage({type:"run",id:i,code:n})})}terminate(){this.worker&&(this.worker.terminate(),this.worker=null),this._setStatus("stopped")}restart(){this.terminate(),this.init()}}const H=new wr;var Sr=u('<div style=min-height:100px><pre aria-hidden=true class="absolute inset-0 m-0 overflow-hidden pointer-events-none px-3.5 py-3"style="font-family:inherit;font-size:inherit;line-height:inherit !important;white-space:pre-wrap;word-break:break-all"><code></code></pre><textarea class="absolute inset-0 w-full h-full px-3.5 py-3 m-0 resize-none bg-transparent text-transparent outline-none border-none focus:ring-0"style="font-family:inherit;font-size:inherit;line-height:inherit !important;white-space:pre-wrap;word-break:break-all;color:transparent;background-color:transparent;caret-color:var(--accent)">');const zr=e=>{let n,s;const i=a=>{const g=a.target;e.onChange(g.value)};ie(()=>{s&&e.value!==void 0&&(s.innerHTML=xe.highlight(e.value,xe.languages[e.language||"python"]||xe.languages.python,e.language||"python"))});const d=()=>{n&&s&&s.parentElement&&(s.parentElement.scrollTop=n.scrollTop,s.parentElement.scrollLeft=n.scrollLeft)};return(()=>{var a=Sr(),g=a.firstChild,v=g.firstChild,m=g.nextSibling,w=s;typeof w=="function"?re(w,v):s=v,m.addEventListener("scroll",d),m.$$input=i;var h=n;return typeof h=="function"?re(h,m):n=m,Oe(m,"spellcheck",!1),F(p=>{var f=`relative font-mono text-lg font-bold leading-6 ${e.class||""}`,_=`language-${e.language||"python"} [&_span]:!font-inherit !leading-inherit`,z=e.readOnly;return f!==p.e&&K(a,p.e=f),_!==p.t&&K(v,p.t=_),z!==p.a&&(m.disabled=p.a=z),p},{e:void 0,t:void 0,a:void 0}),F(()=>m.value=e.value),a})()};V(["input"]);var Er=u('<div class="text-primary whitespace-pre-wrap font-bold bg-primary/20 p-2 rounded-sm">'),Ir=u('<div class="text-secondary/80 whitespace-pre-wrap border-l-4 border-foreground pl-2 py-1"><span class="text-xs text-foreground select-none mr-2">Out:'),Pr=u('<div class="flex flex-col gap-1 font-mono text-sm mt-2 p-2 bg-foreground/20 rounded-b-lg border-t border-foreground max-h-[500px] overflow-y-auto">'),Ar=u('<div class="text-secondary whitespace-pre-wrap">'),Mr=u('<div class="text-primary whitespace-pre-wrap bg-primary/10 p-1 rounded-sm">');const Lr=e=>(()=>{var n=Pr();return r(n,t(A,{get when(){return e.outputs},get children(){return[t(Me,{get each(){return e.outputs?.stdout},children:s=>(()=>{var i=Ar();return r(i,s),i})()}),t(Me,{get each(){return e.outputs?.stderr},children:s=>(()=>{var i=Mr();return r(i,s),i})()}),t(A,{get when(){return e.outputs?.error},get children(){var s=Er();return r(s,()=>e.outputs?.error),s}}),t(A,{get when(){return e.outputs?.result},get children(){var s=Ir();return s.firstChild,r(s,()=>e.outputs?.result,null),s}})]}})),n})();var Dr=u("<button>"),Or=u('<div><div class="cursor-grab hover:text-accent p-1 rounded-sm text-foreground"></div><button class="p-1 hover:text-primary rounded-sm text-foreground">'),Rr=u('<div class="absolute -top-8 right-2 flex bg-background shadow-md border border-foreground rounded-sm overflow-hidden z-10">'),Tr=u("<div><div>");const Pt=e=>{const n=Dt(e.id),[s,i]=B(!1),d=()=>C.presentationMode;return(()=>{var a=Tr(),g=a.firstChild,v=n.ref;return typeof v=="function"?re(v,a):n.ref=a,Ot(a,Rt(()=>n.dragActivators,{onKeyDown:void 0,get class(){return G("group relative flex flex-col my-3 rounded-sm border-2 transition-all duration-200 p-1 max-xs:p-0",!d()&&"cursor-grab active:cursor-grabbing",!e.isActive&&"border-transparent",!d()&&!e.isActive&&"hover:border-secondary/10",e.isActive&&!e.isEditing&&"border-accent/60",e.isActive&&e.isEditing&&"border-accent shadow-[0_0_5px_var(--accent)]",n.isActiveDraggable?"opacity-50":"")},get style(){return{transform:`translate3d(${n.transform.x}px, ${n.transform.y}px, 0)`}},onClick:m=>{d()||(m.stopPropagation(),e.onActivate())},onMouseEnter:()=>!d()&&i(!0),onMouseLeave:()=>i(!1)}),!1,!0),r(a,t(A,{get when(){return!d()},get children(){var m=Or(),w=m.firstChild,h=w.nextSibling;return r(m,t(A,{get when(){return e.onActionClick},get children(){var p=Dr();return p.$$click=f=>{f.stopPropagation(),e.onActionClick?.()},r(p,t(A,{get when(){return e.type==="code"},get fallback(){return t(A,{get when(){return e.isEditing},get fallback(){return t(It,{size:14})},get children(){return t(Et,{size:14})}})},get children(){return t(A,{get when(){return!e.actionRunning},get fallback(){return t(zt,{size:14,class:"animate-pulse"})},get children(){return t(St,{size:14})}})}})),F(f=>{var _=e.type==="code"&&e.actionRunning,z=G("p-1 hover:text-accent rounded-sm disabled:opacity-50",e.hasError?"text-primary":e.isActive||e.isEditing?"text-accent":"text-foreground"),I=e.type==="code"?"Run Cell":e.isEditing?"Finish Editing":"Edit Markdown";return _!==f.e&&(p.disabled=f.e=_),z!==f.t&&K(p,f.t=z),I!==f.a&&Oe(p,"title",f.a=I),f},{e:void 0,t:void 0,a:void 0}),p}}),w),r(w,t(Gt,{size:16})),h.$$click=p=>{p.stopPropagation(),e.onDelete()},r(h,t(Te,{size:14})),F(()=>K(m,G("absolute -left-10 top-0 bottom-0 w-8 flex-col items-center justify-center py-2 gap-2 opacity-0 transition-opacity hidden lg:flex",(s()||e.isActive)&&"opacity-100"))),m}}),g),r(a,t(A,{get when(){return Re(()=>!!e.isActive)()&&!d()},get children(){var m=Rr();return r(m,()=>e.toolbar),m}}),g),g.$$touchstart=m=>m.stopPropagation(),g.$$mousedown=m=>m.stopPropagation(),g.$$pointerdown=m=>m.stopPropagation(),r(g,()=>e.children),F(()=>K(g,G("w-full bg-background rounded-sm min-h-12.5 pl-1.5 max-xs:pl-1.1 cursor-auto",(e.isActive,"")))),a})()};V(["click","pointerdown","mousedown","touchstart"]);var Nr=u('<div class="flex lg:hidden items-center gap-1 p-1"><button title="Run Cell (Ctrl+Enter)"></button><div class="h-4 w-px bg-foreground mx-1"></div><span class="text-xs text-secondary/70 font-mono px-2">Python</span><div class="h-4 w-px bg-foreground mx-1"></div><button class="p-1.5 hover:bg-foreground rounded-sm text-primary"title="Delete Cell">'),Ur=u('<div class="absolute inset-0 z-10 cursor-text">'),Hr=u('<div class="flex flex-col"><div class=flex><div class="w-10 bg-background border-r border-foreground flex flex-col items-center pt-4 text-xs text-foreground select-none font-mono">In [<!>]:</div><div class="flex-1 bg-background relative">');const Br=e=>{const[n,s]=B(!1),i=async()=>{if(!n()){s(!0),$.clearCellOutput(e.cell.id);try{await H.run(e.cell.content,a=>{$.updateCellOutput(e.cell.id,a)})}catch(a){console.error(a)}finally{s(!1)}}},d=(()=>{var a=Nr(),g=a.firstChild,v=g.nextSibling,m=v.nextSibling,w=m.nextSibling,h=w.nextSibling;return g.$$click=i,r(g,t(A,{get when(){return!n()},get fallback(){return t(zt,{size:16,class:"animate-pulse text-primary"})},get children(){return t(St,{size:16})}})),h.$$click=p=>{p.stopPropagation(),$.deleteCell(e.cell.id)},r(h,t(Te,{size:16})),F(p=>{var f=n(),_=G("p-1.5 hover:bg-foreground rounded-sm disabled:opacity-50",e.cell.outputs?.error?"text-primary":(e.isActive||e.cell.isEditing,"text-accent"));return f!==p.e&&(g.disabled=p.e=f),_!==p.t&&K(g,p.t=_),p},{e:void 0,t:void 0}),a})();return t(Pt,{get id(){return e.cell.id},get isActive(){return e.isActive},get isEditing(){return e.cell.isEditing},onActivate:()=>$.setActiveCell(e.cell.id),onDelete:()=>$.deleteCell(e.cell.id),onMoveUp:()=>$.moveCell(e.index,e.index-1),onMoveDown:()=>$.moveCell(e.index,e.index+1),toolbar:d,type:"code",onActionClick:i,get actionRunning(){return n()},get hasError(){return!!e.cell.outputs?.error},get children(){var a=Hr(),g=a.firstChild,v=g.firstChild,m=v.firstChild,w=m.nextSibling;w.nextSibling;var h=v.nextSibling;return r(v,()=>e.index+1,w),r(h,t(zr,{get value(){return e.cell.content},onChange:p=>$.updateCell(e.cell.id,p),language:"python",get readOnly(){return!e.cell.isEditing||n()}}),null),r(h,t(A,{get when(){return Re(()=>!e.cell.isEditing)()&&!n()},get children(){var p=Ur();return p.$$click=f=>{e.isActive&&(f.stopPropagation(),$.setEditing(e.cell.id,!0))},p}}),null),r(a,t(A,{get when(){return e.cell.outputs},get children(){return t(Lr,{get outputs(){return e.cell.outputs}})}}),null),a}})};V(["click"]);const Fr={font:'"JetBrains Mono Variable", monospace',colors:{primary:"#f38ba8",secondary:"#cdd6f4",accent:"#89b4fa",background:"#1e1e2e",foreground:"rgba(205, 214, 244, 0.2)"},radii:{lg:"9999px",sm:"0.75rem"},spacing:{line:"1.75"},typography:{fontSize:"1rem",headerDelta:"0.225rem",headerColors:["#f38ba8","#fab387","#f9e2af","#a6e3a1"]},sectionScoping:!0},[T]=kt(Fr),At=T,Kr=()=>{ie(()=>{const e=document.documentElement;e.style.setProperty("--font-mono",T.font),e.style.setProperty("--primary",T.colors.primary),e.style.setProperty("--secondary",T.colors.secondary),e.style.setProperty("--accent",T.colors.accent),e.style.setProperty("--background",T.colors.background),e.style.setProperty("--foreground",T.colors.foreground);try{localStorage.setItem("theme_bg",T.colors.background),localStorage.setItem("theme_text",T.colors.secondary)}catch{}e.style.setProperty("--radius-lg",T.radii.lg),e.style.setProperty("--radius-sm",T.radii.sm),e.style.setProperty("--line-spacing",T.spacing.line),e.style.setProperty("--font-size-base",T.typography.fontSize),e.style.setProperty("--font-size-delta",T.typography.headerDelta);const n=T.typography.headerColors||[],s=n[0]||T.colors.primary,i=n[1]||s,d=n[2]||i,a=n[3]||d;e.style.setProperty("--header-color-1",s),e.style.setProperty("--header-color-2",i),e.style.setProperty("--header-color-3",d),e.style.setProperty("--header-color-4",a)})};var jr=u("<div><div class=py-1 role=menu aria-orientation=vertical>"),Wr=u('<div class="relative inline-block text-left"><div>'),qr=u("<button role=menuitem>"),Xr=u('<div class="absolute left-full -top-1 w-56 rounded-sm shadow-lg bg-background border border-foreground ring-1 ring-black/5 z-50"><div class=py-1 role=menu aria-orientation=vertical>'),Gr=u('<div class=relative><button class="w-full text-left block px-4 py-2 text-sm text-secondary hover:bg-foreground hover:text-secondary"role=menuitem>'),Jr=u('<div class="border-t border-foreground my-1">');const te=e=>{const[n,s]=B(!1),[i,d]=B({top:0,left:0,right:0});let a,g;const v=f=>{const _=f.target,z=a&&a.contains(_),I=g&&g.contains(_);!z&&!I&&s(!1)},m=()=>{if(!n()&&a){const f=a.getBoundingClientRect();d({top:f.bottom,left:f.left,right:f.right})}s(!n())},w=()=>{if(n()&&a){const f=a.getBoundingClientRect();d({top:f.bottom,left:f.left,right:f.right})}};document.addEventListener("click",v),window.addEventListener("scroll",w,!0),window.addEventListener("resize",w),le(()=>{document.removeEventListener("click",v),window.removeEventListener("scroll",w,!0),window.removeEventListener("resize",w)});const h=G("shadow-lg bg-background border border-foreground ring-1 ring-black/5 focus:outline-none z-50",e.fullWidthMobile?"max-xs:fixed max-xs:left-0 max-xs:right-0 max-xs:top-16.25 max-xs:mt-0 max-xs:rounded-none max-xs:border-t-0 max-xs:w-auto":"",e.fullWidthMobile?"xs:absolute xs:mt-2 xs:w-56 xs:rounded-sm":"mt-2 w-56 rounded-sm",!e.usePortal&&(e.align==="right"?"right-0":"left-0"),!e.usePortal&&"absolute"),p=(()=>{var f=jr(),_=f.firstChild,z=g;return typeof z=="function"?re(z,f):g=f,_.$$click=()=>s(!1),r(_,()=>e.children),F(I=>{var S=G(h,e.usePortal&&"fixed"),y=e.usePortal?{top:`${i().top-2}px`,left:e.align==="right"?"auto":`${i().left}px`,right:e.align==="right"?`${document.documentElement.clientWidth-i().right}px`:"auto"}:void 0;return S!==I.e&&K(f,I.e=S),I.t=Nt(f,y,I.t),I},{e:void 0,t:void 0}),f})();return(()=>{var f=Wr(),_=f.firstChild,z=a;return typeof z=="function"?re(z,f):a=f,_.$$click=m,r(_,()=>e.trigger),r(f,t(A,{get when(){return n()},get children(){return t(A,{get when(){return e.usePortal},fallback:p,get children(){return t(Ut,{children:p})}})}}),null),f})()},x=e=>(()=>{var n=qr();return Tt(n,"click",e.onClick,!0),r(n,()=>e.children),F(s=>{var i=e.disabled,d=G("w-full text-left block px-4 py-2 text-sm text-secondary hover:bg-foreground hover:text-secondary disabled:opacity-50 disabled:cursor-not-allowed",e.class);return i!==s.e&&(n.disabled=s.e=i),d!==s.t&&K(n,s.t=d),s},{e:void 0,t:void 0}),n})(),De=e=>{const[n,s]=B(!1);return(()=>{var i=Gr(),d=i.firstChild;return i.addEventListener("mouseleave",()=>s(!1)),i.addEventListener("mouseenter",()=>s(!0)),d.$$click=a=>{a.stopPropagation(),s(!0)},r(d,()=>e.label),r(i,t(A,{get when(){return n()},get children(){var a=Xr(),g=a.firstChild;return r(g,()=>e.children),a}}),null),i})()},X=()=>Jr();V(["click"]);const Yr=new tr("sectionScope"),Qr=rr(()=>new nr({key:Yr,state:{init(){return Ce.empty},apply(e,n,s,i){if(!At.sectionScoping)return Ce.empty;const d=[];let a=0;return i.doc.forEach((g,v)=>{g.type.name==="heading"?(a=Math.min(Math.max(g.attrs.level||0,1),4),d.push(lt.node(v,v+g.nodeSize,{style:`--primary: var(--header-color-${a}) !important; --color-primary: var(--header-color-${a}) !important;`}))):a>0&&d.push(lt.node(v,v+g.nodeSize,{style:`--primary: var(--header-color-${a}) !important; --color-primary: var(--header-color-${a}) !important;`}))}),Ce.create(i.doc,d)}},props:{decorations(e){return this.getState(e)}}}));var Vr=u('<span class="text-xl font-bold">Heading 1'),Zr=u('<span class="text-lg font-bold">Heading 2'),en=u('<span class="text-base font-bold">Heading 3'),tn=u('<span class="text-sm font-bold">Heading 4'),rn=u('<div class="flex items-center gap-2"> Link'),nn=u('<div class="flex items-center gap-2"> Bullet List'),ln=u('<div class="flex items-center gap-2"> Numbered List'),sn=u('<div class="flex items-center gap-2"> Quote'),on=u('<div class="flex items-center gap-2"> Inline Code'),an=u('<div class="flex items-center gap-2"> Code Block'),dn=u('<div class="flex items-center gap-2"> Image'),vt=u('<div class="flex items-center gap-2"> Insert Table'),pt=u('<div class="flex items-center gap-2"> Row Above'),$t=u('<div class="flex items-center gap-2"> Row Below'),xt=u('<div class="flex items-center gap-2"> Col Left'),bt=u('<div class="flex items-center gap-2"> Col Right'),_t=u('<div class="flex items-center gap-2 text-primary"> Delete Selected'),yt=u('<div class="flex items-center gap-2 text-primary"> Delete Table'),cn=u('<div class="flex flex-col gap-2"><div class="flex items-center gap-1 pb-1 -mt-2 max-xs:-mt-0.5 border-b border-foreground/30"><button class=btn-icon title=Bold></button><button class=btn-icon title=Italic></button><div class="w-px h-4 bg-foreground/30 mx-1 hidden sm:block"></div><div class="flex items-center gap-0"><button class="btn-icon rounded-r-none hover:z-10 -mr-px"title="Cycle Header Level"></button></div><div class="flex sm:hidden items-center"></div><div class="hidden sm:flex items-center gap-1"><div class="w-px h-4 bg-foreground/30 mx-1"></div><button class=btn-icon title=Link></button><button class=btn-icon title="Bullet List"></button><button class=btn-icon title="Numbered List"></button><div class="w-px h-4 bg-foreground/30 mx-1"></div><button class=btn-icon title=Quote></button><button class=btn-icon title="Inline Code"></button><button class=btn-icon title="Code Block"></button><button class=btn-icon title=Image></button></div></div><div class=milkdown-editor-wrapper>'),un=u('<button class="btn-icon rounded-l-none px-1"title="Heading Options">'),gn=u('<button class=btn-icon title="More Formatting">'),fn=u('<div class="flex items-center gap-2"> Table'),mn=u('<button class=btn-icon title="Table Options">');const hn=e=>{let n,s=null;he(()=>{n&&dr.make().config(h=>{h.set(cr,n),h.set(ur,e.value),h.get(gr).markdownUpdated((p,f)=>{e.onChange(f)})}).config(fr).use(mr).use(hr).use(vr).use(pr).use($r).use(Qr).create().then(h=>{s=h}).catch(h=>console.error("Milkdown init error",h))}),le(()=>{s&&s.destroy()});const i=(h,p)=>{s?.action(xr(h,p))},d=()=>{s?.action(h=>{const p=h.get(ke),f=h.get(mt),{state:_,dispatch:z}=p,{blockquote:I}=f.nodes,{$from:S}=_.selection;let y=!1;for(let P=S.depth;P>0;P--)if(S.node(P).type===I){y=!0;break}y?br(_,z):_r(I)(_,z)})},a=()=>{s?.action(h=>{const p=h.get(ke),f=h.get(mt),{state:_,dispatch:z}=p,{heading:I,paragraph:S}=f.nodes,{$from:y}=_.selection;let P=0;for(let L=y.depth;L>0;L--){const N=y.node(L);if(N.type===I){P=N.attrs.level;break}}const D=P>=4?0:P+1;D===0?ht(S)(_,z):ht(I,{level:D})(_,z)})},g=()=>{s?.action(h=>{const p=h.get(ke),{state:f,dispatch:_}=p,{$from:z}=f.selection;for(let I=z.depth;I>0;I--)if(z.node(I).type.name==="table"){const S=z.start(I)-1,y=z.end(I)+1;_(f.tr.delete(S,y));return}})},v=()=>{const h=window.prompt("Enter URL");h&&i(sr.key,{href:h})},m=()=>{const h=window.prompt("Enter Image URL");h&&i(or.key,{src:h})},w=()=>{i(ar.key,{row:3,col:3})};return(()=>{var h=cn(),p=h.firstChild,f=p.firstChild,_=f.nextSibling,z=_.nextSibling,I=z.nextSibling,S=I.firstChild,y=I.nextSibling,P=y.nextSibling,D=P.firstChild,L=D.nextSibling,N=L.nextSibling,j=N.nextSibling,Z=j.nextSibling,O=Z.nextSibling,se=O.nextSibling,q=se.nextSibling,ce=q.nextSibling,ue=p.nextSibling;f.$$click=()=>i(lr.key),r(f,t(Jt,{size:16})),_.$$click=()=>i(ir.key),r(_,t(Yt,{size:16})),S.$$click=a,r(S,t(Qt,{size:16})),r(I,t(te,{get trigger(){return(()=>{var o=un();return r(o,t(ae,{size:12})),o})()},get children(){return[t(x,{onClick:()=>i(me.key,1),get children(){return Vr()}}),t(x,{onClick:()=>i(me.key,2),get children(){return Zr()}}),t(x,{onClick:()=>i(me.key,3),get children(){return en()}}),t(x,{onClick:()=>i(me.key,4),get children(){return tn()}})]}}),null),r(y,t(te,{usePortal:!0,get trigger(){return(()=>{var o=gn();return r(o,t(Vt,{size:16})),o})()},get children(){return[t(x,{onClick:v,get children(){var o=rn(),b=o.firstChild;return r(o,t(Ke,{size:16}),b),o}}),t(X,{}),t(x,{onClick:()=>i(it.key),get children(){var o=nn(),b=o.firstChild;return r(o,t(je,{size:16}),b),o}}),t(x,{onClick:()=>i(st.key),get children(){var o=ln(),b=o.firstChild;return r(o,t(We,{size:16}),b),o}}),t(X,{}),t(x,{onClick:d,get children(){var o=sn(),b=o.firstChild;return r(o,t(qe,{size:16}),b),o}}),t(x,{onClick:()=>i(ot.key),get children(){var o=on(),b=o.firstChild;return r(o,t(ve,{size:16}),b),o}}),t(x,{onClick:()=>i(at.key),get children(){var o=an(),b=o.firstChild;return r(o,t(Xe,{size:16}),b),o}}),t(x,{onClick:m,get children(){var o=dn(),b=o.firstChild;return r(o,t(Ge,{size:16}),b),o}}),t(De,{get label(){return(()=>{var o=fn(),b=o.firstChild;return r(o,t(tt,{size:16}),b),o})()},get children(){return[t(x,{onClick:w,get children(){var o=vt(),b=o.firstChild;return r(o,t(ne,{size:16}),b),o}}),t(X,{}),t(x,{onClick:()=>i(dt.key),get children(){var o=pt(),b=o.firstChild;return r(o,t(Je,{size:16}),b),o}}),t(x,{onClick:()=>i(ct.key),get children(){var o=$t(),b=o.firstChild;return r(o,t(Ye,{size:16}),b),o}}),t(x,{onClick:()=>i(ut.key),get children(){var o=xt(),b=o.firstChild;return r(o,t(Qe,{size:16}),b),o}}),t(x,{onClick:()=>i(gt.key),get children(){var o=bt(),b=o.firstChild;return r(o,t(Ve,{size:16}),b),o}}),t(X,{}),t(x,{onClick:()=>i(ft.key),get children(){var o=_t(),b=o.firstChild;return r(o,t(Ze,{size:16}),b),o}}),t(x,{onClick:g,get children(){var o=yt(),b=o.firstChild;return r(o,t(et,{size:16}),b),o}})]}})]}})),L.$$click=v,r(L,t(Ke,{size:16})),N.$$click=()=>i(it.key),r(N,t(je,{size:16})),j.$$click=()=>i(st.key),r(j,t(We,{size:16})),O.$$click=d,r(O,t(qe,{size:16})),se.$$click=()=>i(ot.key),r(se,t(ve,{size:16})),q.$$click=()=>i(at.key),r(q,t(Xe,{size:16})),ce.$$click=m,r(ce,t(Ge,{size:16})),r(P,t(te,{align:"right",get trigger(){return(()=>{var o=mn();return r(o,t(tt,{size:16})),o})()},get children(){return[t(x,{onClick:w,get children(){var o=vt(),b=o.firstChild;return r(o,t(ne,{size:16}),b),o}}),t(X,{}),t(x,{onClick:()=>i(dt.key),get children(){var o=pt(),b=o.firstChild;return r(o,t(Je,{size:16}),b),o}}),t(x,{onClick:()=>i(ct.key),get children(){var o=$t(),b=o.firstChild;return r(o,t(Ye,{size:16}),b),o}}),t(x,{onClick:()=>i(ut.key),get children(){var o=xt(),b=o.firstChild;return r(o,t(Qe,{size:16}),b),o}}),t(x,{onClick:()=>i(gt.key),get children(){var o=bt(),b=o.firstChild;return r(o,t(Ve,{size:16}),b),o}}),t(X,{}),t(x,{onClick:()=>i(ft.key),get children(){var o=_t(),b=o.firstChild;return r(o,t(Ze,{size:16}),b),o}}),t(x,{onClick:g,get children(){var o=yt(),b=o.firstChild;return r(o,t(et,{size:16}),b),o}})]}}),null);var J=n;return typeof J=="function"?re(J,ue):n=ue,h})()};V(["click"]);var vn=u('<div class="flex lg:hidden items-center gap-1 p-1"><button></button><div class="h-4 w-px bg-foreground mx-1"></div><span class="text-xs text-secondary/70 font-mono px-2">Markdown</span><div class="h-4 w-px bg-foreground mx-1"></div><button class="p-1.5 hover:bg-foreground rounded-sm text-primary"title="Delete Cell">'),pn=u('<div class="p-3.5 max-xs:p-2.5">'),$n=u('<div class="min-h-[50px] w-full">'),xn=u('<div class="prose prose-invert max-w-none p-3.5 max-xs:p-2.5 text-secondary">');const bn={name:"displayMath",level:"inline",start(e){return e.match(/\$\$/)?.index},tokenizer(e){const n=/^\$\$([\s\S]+?)\$\$/.exec(e);if(n)return{type:"displayMath",raw:n[0],text:n[1].trim()}},renderer(e){return Xt.renderToString(e.text,{displayMode:!0,throwOnError:!1,output:"html"})}};de.use(qt({throwOnError:!1,output:"html",trust:!0}));de.use({extensions:[bn]});const _n={ADD_TAGS:["math","maction","maligngroup","malignmark","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mlongdiv","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mscarries","mscarry","msgroup","mstack","msline","mspace","msqrt","msrow","mstack","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","semantics","annotation","annotation-xml"],ADD_ATTR:["xmlns","display","mathvariant","columnalign","columnspacing","rowspacing","groupalign","class","style","data-level"]},yn=e=>{const[n,s]=B(""),[i,d]=B(!1);ie(async()=>{try{d(!1);const v=e.cell.content||"Double click to edit...";let m="";if(At.sectionScoping){const w=de.lexer(v),h=[];let p=!1;for(const _ of w){if(_.type==="heading"){p&&h.push({type:"html",raw:"</div>",text:"</div>"});const I=`<div class="section-scope" data-level="${Math.min(Math.max(_.depth,1),4)}">`;h.push({type:"html",raw:I,text:I}),p=!0}h.push(_)}p&&h.push({type:"html",raw:"</div>",text:"</div>"}),h.links=w.links;const f=de.parser(h);m=f instanceof Promise?await f:f}else{const w=de.parse(v);m=w instanceof Promise?await w:w}s(yr.sanitize(m,_n))}catch(v){console.error("Markdown rendering error:",v),d(!0)}});const a=()=>{$.setEditing(e.cell.id,!e.cell.isEditing)},g=(()=>{var v=vn(),m=v.firstChild,w=m.nextSibling,h=w.nextSibling,p=h.nextSibling,f=p.nextSibling;return m.$$click=a,r(m,t(A,{get when(){return e.cell.isEditing},get fallback(){return t(It,{size:16})},get children(){return t(Et,{size:16})}})),f.$$click=_=>{_.stopPropagation(),$.deleteCell(e.cell.id)},r(f,t(Te,{size:16})),F(_=>{var z=G("p-1.5 hover:bg-foreground rounded-sm",i()?"text-primary":e.isActive||e.cell.isEditing?"text-accent":"text-secondary"),I=e.cell.isEditing?"Finish Editing":"Edit Markdown";return z!==_.e&&K(m,_.e=z),I!==_.t&&Oe(m,"title",_.t=I),_},{e:void 0,t:void 0}),v})();return t(Pt,{get id(){return e.cell.id},get isActive(){return e.isActive},get isEditing(){return e.cell.isEditing},onActivate:()=>$.setActiveCell(e.cell.id),onDelete:()=>$.deleteCell(e.cell.id),onMoveUp:()=>$.moveCell(e.index,e.index-1),onMoveDown:()=>$.moveCell(e.index,e.index+1),toolbar:g,type:"markdown",onActionClick:a,get hasError(){return i()},get children(){var v=$n();return v.$$dblclick=()=>$.setEditing(e.cell.id,!0),r(v,t(A,{get when(){return e.cell.isEditing},get fallback(){return(()=>{var m=xn();return F(()=>m.innerHTML=n()),m})()},get children(){var m=pn();return r(m,t(hn,{get value(){return e.cell.content},onChange:w=>$.updateCell(e.cell.id,w)})),m}})),v}})};V(["click","dblclick"]);var Cn=u('<div class="fixed pointer-events-none z-50"style=width:832px><div class="bg-accent/20 border-2 border-accent h-12 w-full rounded-sm opacity-50 shadow-sm">'),kn=u('<div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">File'),Se=u('<div class="flex items-center gap-2"> New Notebook'),ze=u('<div class="flex items-center gap-2"> Open...'),Ee=u('<div class="flex items-center gap-2"> Save'),Ie=u('<div class="flex items-center gap-2"> Export .ipynb'),wn=u('<div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">Modes'),Sn=u('<div class="flex items-center gap-2"> Presentation'),Pe=u('<div class="flex items-center gap-2 text-accent"> Restart'),Ae=u('<div class="flex items-center gap-2 text-primary"> Shut Down'),zn=u('<div class="hidden xs:block">'),En=u('<div class="block xs:hidden"><div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">File</div><div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">Kernel'),In=u('<div class="flex items-center gap-2"> Add Code Cell'),Pn=u('<div class="flex items-center gap-2"> Add Markdown Cell'),An=u('<div class="flex items-center gap-2"> Undo'),Mn=u('<div class="flex items-center gap-2"> Redo'),Ln=u('<div class="px-4 max-xs:px-3">'),Dn=u("<div style=width:100%>"),On=u('<div class="flex justify-center gap-4 mt-8 opacity-50 hover:opacity-100 transition-opacity"><button class="flex flex-row items-center gap-2 px-6 py-3 border-2 border-dashed border-foreground bg-background rounded-lg hover:border-accent hover:text-accent text-secondary transition-all shadow-sm"><span class="text-sm font-bold">Code</span></button><button class="flex flex-row items-center gap-2 px-6 py-3 border-2 border-dashed border-foreground bg-background rounded-lg hover:border-accent hover:text-accent text-secondary transition-all shadow-sm"><span class="text-sm font-bold">Text'),Rn=u('<button class="fixed top-4 right-4 z-50 p-2 bg-background/80 backdrop-blur-md border border-foreground rounded-sm hover:bg-foreground transition-colors shadow-lg"title="Exit Presentation Mode">'),Tn=u('<div class="fixed bottom-4 right-4 z-50 px-4 py-2 bg-background/60 backdrop-blur-md border border-foreground/30 rounded-sm text-sm text-secondary/60 shadow-lg">Press Esc to exit'),Nn=u('<div class=pb-32><div><div class="max-w-202 mx-auto px-7.5 max-xs:px-6.5 py-4 flex items-center justify-between"><div class="flex items-center gap-2"><div class="btn-toolbar bg-primary! text-background! hover:bg-primary/90! flex items-center justify-center font-bold! text-xl! leading-none sm:flex border-primary">PyNote</div><div class="h-8 w-px bg-foreground mx-1 hidden xs:block"></div><div class="hidden min-[800px]:flex items-center gap-2"><div class="h-8 w-px bg-foreground mx-1"></div><button class="btn-toolbar flex items-center gap-1"title="Add Code Cell"> </button><button class="btn-toolbar flex items-center gap-1"title="Add Markdown Cell"> </button><div class="h-8 w-px bg-foreground mx-1"></div><button class="btn-toolbar flex items-center gap-1"title=Undo></button><button class="btn-toolbar flex items-center gap-1"title=Redo></button></div><div class="flex min-[800px]:hidden items-center gap-2"></div><input type=file accept=.ipynb class=hidden></div><div class="flex items-center gap-2"><div><div></div><span class="hidden sm:inline"></span></div></div></div></div><div class="max-w-208 mx-auto">'),Ct=u('<button class="btn-toolbar flex items-center gap-1">Options '),Un=u('<button class="btn-toolbar flex items-center gap-1">Kernel '),Hn=u('<div class="flex items-center gap-2"> File'),Bn=u('<div class="flex items-center gap-2"> Kernel'),Fn=u('<button class="btn-toolbar flex items-center gap-1">Actions ');typeof window<"u"&&(window.lastMouseX=0,window.addEventListener("mousemove",e=>{window.lastMouseX=e.clientX}));const Kn=e=>{const[n]=wt(),[s,i]=B({x:0,y:0});return ie(()=>{if(n.active.draggable){const d=a=>{i({x:a.clientX,y:a.clientY})};window.addEventListener("mousemove",d),le(()=>{window.removeEventListener("mousemove",d)})}}),t(A,{get when(){return Re(()=>!!n.active.draggable)()&&e.height},get children(){var d=Cn();return F(a=>{var g=`${s().x-e.grabOffsetX-(832-e.cellWidth)/2}px`,v=`${s().y}px`;return g!==a.e&&Le(d,"left",a.e=g),v!==a.t&&Le(d,"top",a.t=v),a},{e:void 0,t:void 0}),d}})},jn=()=>{const[e,{recomputeLayouts:n}]=wt();let s=null,i=0;const d=15,a=80,g=50,v=h=>{i=h.clientY},m=()=>{n()},w=()=>{const{innerHeight:h}=window;i<a+g&&i>0?window.scrollBy(0,-d):i>h-g&&window.scrollBy(0,d),s=requestAnimationFrame(w)};return ie(()=>{e.active.draggable?(window.addEventListener("mousemove",v),window.addEventListener("scroll",m),s=requestAnimationFrame(w)):(window.removeEventListener("mousemove",v),window.removeEventListener("scroll",m),s&&(cancelAnimationFrame(s),s=null))}),le(()=>{window.removeEventListener("mousemove",v),window.removeEventListener("scroll",m),s&&cancelAnimationFrame(s)}),null},Wn=()=>{let e;const[n,s]=B(null),[i,d]=B(0),[a,g]=B(0),[v,m]=B(!1),w="pynote-autosave";function h(){const S={cells:C.cells.map(y=>({...y,isEditing:!1})),filename:C.filename,history:C.history,historyIndex:C.historyIndex};try{localStorage.setItem(w,JSON.stringify(S))}catch{}}function p(){try{const S=localStorage.getItem(w);if(!S)return!1;const y=JSON.parse(S);if(y&&Array.isArray(y.cells))return $.loadNotebook(y.cells,y.filename||"Untitled.ipynb",y.history||[]),typeof y.historyIndex=="number"&&(C.historyIndex=y.historyIndex),!0}catch{}return!1}he(()=>{p()||$.loadNotebook([...kr],"Untitled.ipynb",[])}),$.__setAutosaveCallback?.(h),ie(()=>{if(C.presentationMode){m(!0);const S=setTimeout(()=>m(!1),2500);le(()=>clearTimeout(S))}}),he(()=>{const S=y=>{y.key==="Escape"&&C.presentationMode&&$.setPresentationMode(!1)};window.addEventListener("keydown",S),le(()=>window.removeEventListener("keydown",S))});const f=({draggable:S})=>{if(S.node){const y=S.node.getBoundingClientRect();s(y.height),g(y.width);const P=window.lastMouseX||0;d(P-y.left)}},_=({draggable:S,droppable:y})=>{if(s(null),S&&y){const P=C.cells.findIndex(L=>L.id===S.id),D=C.cells.findIndex(L=>L.id===y.id);P!==-1&&D!==-1&&P!==D&&$.moveCell(P,D)}},z=()=>{const S={cells:C.cells.map(L=>({cell_type:L.type,source:L.content.split(`
`).map(N=>N+`
`),outputs:[],metadata:{}})),metadata:{kernelspec:{display_name:"Python 3 (Pyodide)",language:"python",name:"python3"},language_info:{name:"python",version:"3.11.3"},PyNote:{history:C.history}},nbformat:4,nbformat_minor:5},y=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),P=URL.createObjectURL(y),D=document.createElement("a");D.href=P,D.download=C.filename||"notebook.ipynb",D.click(),URL.revokeObjectURL(P)},I=S=>{const y=S.target.files?.[0];if(!y)return;const P=new FileReader;P.onload=D=>{try{const L=D.target?.result,N=JSON.parse(L);if(N.cells&&Array.isArray(N.cells)){const j=N.cells.map(O=>({id:crypto.randomUUID(),type:O.cell_type==="code"||O.cell_type==="markdown"?O.cell_type:"markdown",content:Array.isArray(O.source)?O.source.join(""):O.source||"",isEditing:!1})),Z=N.metadata?.PyNote?.history||[];$.loadNotebook(j,y.name,Z),h()}}catch(L){console.error("Failed to load notebook",L),alert("Invalid notebook file")}},P.readAsText(y),e&&(e.value="")};return(()=>{var S=Nn(),y=S.firstChild,P=y.firstChild,D=P.firstChild,L=D.firstChild,N=L.nextSibling,j=N.nextSibling,Z=j.firstChild,O=Z.nextSibling,se=O.firstChild,q=O.nextSibling,ce=q.firstChild,ue=q.nextSibling,J=ue.nextSibling,o=J.nextSibling,b=j.nextSibling,pe=b.nextSibling,Mt=D.nextSibling,Ne=Mt.firstChild,Ue=Ne.firstChild,Lt=Ue.nextSibling,He=y.nextSibling;y.$$click=l=>{l.stopPropagation(),C.presentationMode||$.setActiveCell(null)},P.$$click=l=>l.stopPropagation(),r(j,t(te,{get trigger(){return(()=>{var l=Ct();return l.firstChild,r(l,t(ae,{size:18}),null),l})()},get children(){return[kn(),t(x,{onClick:()=>{$.loadNotebook([],"Untitled.ipynb"),h()},get children(){var l=Se(),c=l.firstChild;return r(l,t(oe,{size:18}),c),l}}),t(x,{onClick:()=>e?.click(),get children(){var l=ze(),c=l.firstChild;return r(l,t(be,{size:18}),c),l}}),t(x,{onClick:z,get children(){var l=Ee(),c=l.firstChild;return r(l,t(ge,{size:18}),c),l}}),t(x,{onClick:z,get children(){var l=Ie(),c=l.firstChild;return r(l,t(_e,{size:18}),c),l}}),t(X,{}),wn(),t(x,{onClick:()=>$.setPresentationMode(!0),get children(){var l=Sn(),c=l.firstChild;return r(l,t(Zt,{size:18}),c),l}})]}}),Z),r(j,t(te,{get trigger(){return(()=>{var l=Un();return l.firstChild,r(l,t(ae,{size:18}),null),l})()},get children(){return[t(x,{onClick:()=>H.restart(),get children(){var l=Pe(),c=l.firstChild;return r(l,t(fe,{size:18}),c),l}}),t(x,{onClick:()=>H.terminate(),get children(){var l=Ae(),c=l.firstChild;return r(l,t(ye,{size:18}),c),l}})]}}),Z),O.$$click=()=>{const l=(()=>{const c=C.activeCellId;if(!c)return;const k=C.cells.findIndex(E=>E.id===c);if(k!==-1)return k+1})();$.addCell("code",l)},r(O,t(ne,{size:20}),se),r(O,t(ve,{size:20}),null),q.$$click=()=>{const l=(()=>{const c=C.activeCellId;if(!c)return;const k=C.cells.findIndex(E=>E.id===c);if(k!==-1)return k+1})();$.addCell("markdown",l)},r(q,t(ne,{size:20}),ce),r(q,t(oe,{size:20}),null),J.$$click=()=>$.undo(),r(J,t(rt,{size:20})),o.$$click=()=>$.redo(),r(o,t(nt,{size:20})),r(b,t(te,{get trigger(){return(()=>{var l=Ct();return l.firstChild,r(l,t(ae,{size:18}),null),l})()},fullWidthMobile:!0,get children(){return[(()=>{var l=zn();return r(l,t(De,{get label(){return(()=>{var c=Hn(),k=c.firstChild;return r(c,t(ge,{size:18}),k),c})()},get children(){return[t(x,{onClick:()=>$.loadNotebook([],"Untitled.ipynb"),get children(){var c=Se(),k=c.firstChild;return r(c,t(oe,{size:18}),k),c}}),t(x,{onClick:()=>e?.click(),get children(){var c=ze(),k=c.firstChild;return r(c,t(be,{size:18}),k),c}}),t(x,{onClick:z,get children(){var c=Ee(),k=c.firstChild;return r(c,t(ge,{size:18}),k),c}}),t(x,{onClick:z,get children(){var c=Ie(),k=c.firstChild;return r(c,t(_e,{size:18}),k),c}})]}}),null),r(l,t(De,{get label(){return(()=>{var c=Bn(),k=c.firstChild;return r(c,t(fe,{size:18}),k),c})()},get children(){return[t(x,{onClick:()=>H.restart(),get children(){var c=Pe(),k=c.firstChild;return r(c,t(fe,{size:18}),k),c}}),t(x,{onClick:()=>H.terminate(),get children(){var c=Ae(),k=c.firstChild;return r(c,t(ye,{size:18}),k),c}})]}}),null),l})(),(()=>{var l=En(),c=l.firstChild,k=c.nextSibling;return r(l,t(x,{onClick:()=>$.loadNotebook([],"Untitled.ipynb"),get children(){var E=Se(),R=E.firstChild;return r(E,t(oe,{size:18}),R),E}}),k),r(l,t(x,{onClick:()=>e?.click(),get children(){var E=ze(),R=E.firstChild;return r(E,t(be,{size:18}),R),E}}),k),r(l,t(x,{onClick:z,get children(){var E=Ee(),R=E.firstChild;return r(E,t(ge,{size:18}),R),E}}),k),r(l,t(x,{onClick:z,get children(){var E=Ie(),R=E.firstChild;return r(E,t(_e,{size:18}),R),E}}),k),r(l,t(X,{}),k),r(l,t(x,{onClick:()=>H.restart(),get children(){var E=Pe(),R=E.firstChild;return r(E,t(fe,{size:18}),R),E}}),null),r(l,t(x,{onClick:()=>H.terminate(),get children(){var E=Ae(),R=E.firstChild;return r(E,t(ye,{size:18}),R),E}}),null),l})()]}}),null),r(b,t(te,{get trigger(){return(()=>{var l=Fn();return l.firstChild,r(l,t(ae,{size:18}),null),l})()},get children(){return[t(x,{onClick:()=>{const l=(()=>{const c=C.activeCellId;if(!c)return;const k=C.cells.findIndex(E=>E.id===c);if(k!==-1)return k+1})();$.addCell("code",l)},get children(){var l=In(),c=l.firstChild;return r(l,t(ve,{size:18}),c),l}}),t(x,{onClick:()=>{const l=(()=>{const c=C.activeCellId;if(!c)return;const k=C.cells.findIndex(E=>E.id===c);if(k!==-1)return k+1})();$.addCell("markdown",l)},get children(){var l=Pn(),c=l.firstChild;return r(l,t(oe,{size:18}),c),l}}),t(X,{}),t(x,{onClick:()=>$.undo(),get disabled(){return C.historyIndex<0},get children(){var l=An(),c=l.firstChild;return r(l,t(rt,{size:16}),c),l}}),t(x,{onClick:()=>$.redo(),get disabled(){return C.historyIndex>=C.history.length-1},get children(){var l=Mn(),c=l.firstChild;return r(l,t(nt,{size:16}),c),l}})]}}),null),pe.addEventListener("change",I);var Be=e;return typeof Be=="function"?re(Be,pe):e=pe,r(Lt,()=>H.status.toUpperCase()),r(He,t(jt,{onDragStart:f,onDragEnd:_,collisionDetector:Ht,get children(){return[t(jn,{}),t(Bt,{}),(()=>{var l=Ln();return r(l,t(Ft,{get ids(){return C.cells.map(c=>c.id)},get children(){return t(Me,{get each(){return C.cells},children:(c,k)=>t(A,{get when(){return c.type==="code"},get fallback(){return t(yn,{cell:c,get isActive(){return C.activeCellId===c.id},get index(){return k()}})},get children(){return t(Br,{cell:c,get isActive(){return C.activeCellId===c.id},get index(){return k()}})}})})}})),l})(),t(Kt,{style:{opacity:0,"pointer-events":"none"},get children(){return t(A,{get when(){return n()},get children(){var l=Dn();return F(c=>Le(l,"height",`${n()}px`)),l}})}}),t(Kn,{get height(){return n()},get grabOffsetX(){return i()},get cellWidth(){return a()}})]}}),null),r(He,t(A,{get when(){return!C.presentationMode},get children(){var l=On(),c=l.firstChild,k=c.firstChild,E=c.nextSibling,R=E.firstChild;return l.$$click=ee=>ee.stopPropagation(),c.$$click=()=>{const ee=(()=>{const Y=C.activeCellId;if(!Y)return;const Q=C.cells.findIndex($e=>$e.id===Y);if(Q!==-1)return Q+1})();$.addCell("code",ee)},r(c,t(ne,{size:20}),k),E.$$click=()=>{const ee=(()=>{const Y=C.activeCellId;if(!Y)return;const Q=C.cells.findIndex($e=>$e.id===Y);if(Q!==-1)return Q+1})();$.addCell("markdown",ee)},r(E,t(ne,{size:20}),R),l}}),null),r(S,t(A,{get when(){return C.presentationMode},get children(){return[(()=>{var l=Rn();return l.$$click=()=>$.setPresentationMode(!1),r(l,t(er,{size:20,class:"text-secondary"})),l})(),t(A,{get when(){return v()},get children(){return Tn()}})]}}),null),F(l=>{var c=`sticky top-0 z-20 max-xs:z-60 bg-background/80 backdrop-blur-md border-b border-foreground mb-8 shadow-sm transition-transform duration-300 ${C.presentationMode?"-translate-y-full":""}`,k=C.historyIndex<0,E={"opacity-50 cursor-not-allowed":C.historyIndex<0},R=C.historyIndex>=C.history.length-1,ee={"opacity-50 cursor-not-allowed":C.historyIndex>=C.history.length-1},Y=`text-xs font-mono py-1 rounded-sm flex items-center gap-2 ${H.status==="ready"?"text-green-500":H.status==="loading"||H.status==="running"?"text-yellow-500":"text-red-600"}`,Q=`w-2 h-2 rounded-full bg-current ${H.status==="running"||H.status==="loading"?"animate-pulse":""}`;return c!==l.e&&K(y,l.e=c),k!==l.t&&(J.disabled=l.t=k),l.a=Fe(J,E,l.a),R!==l.o&&(o.disabled=l.o=R),l.i=Fe(o,ee,l.i),Y!==l.n&&K(Ne,l.n=Y),Q!==l.s&&K(Ue,l.s=Q),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),S})()};V(["click"]);var qn=u('<div class="min-h-screen bg-background text-secondary transition-colors duration-300 font-mono">');const Xn=()=>(Kr(),he(()=>{H.init()}),(()=>{var e=qn();return e.$$click=()=>$.setActiveCell(null),r(e,t(Wn,{})),e})());V(["click"]);const Gn=document.getElementById("root");Wt(()=>t(Xn,{}),Gn);
