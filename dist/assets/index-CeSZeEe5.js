const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Slider-E3tDsNSN.js","assets/framework-CVMD37SS.js","assets/katex-CFOwh_x2.js","assets/katex-DWnSZQSX.css","assets/vendor-DGVArQ4Y.js","assets/milkdown-B618w8q7.js","assets/markdown-5gHqQypg.js","assets/Text-BJhUqsYw.js","assets/Group-D1HqXYYz.js","assets/PerformanceMonitor-CZm0t7Ml.js"])))=>i.map(i=>d[i]);
import{c as F,k as hl,p as X,d as ge,t as f,l as ve,n as U,q as T,r as Re,j as e,D as Pl,i as l,S as M,F as ne,h as ie,v as he,w as Dl,g as Ol,m as Rl,x as yt,y as fl,f as ue,z as Ll,P as Tl,e as we,A as Kl,B as Nl,C as Ul,E as Ql,G as vt,H as Hl,I as kt,J as ml,K as Bl}from"./framework-CVMD37SS.js";import{m as ql,k as Fl}from"./katex-CFOwh_x2.js";import{h as jl,i as wt,p as Wl,j as Gl,n as Vl,q as Jl,s as Xl,t as Yl,w as Zl,x as er,c as G,y as vl,z as de,A as pl,B as yl,C as xl,D as tr,F as ae,G as lr,H as rr,I as nr,J as ke,K as St,L as Et,M as It,N as zt,P as Te,Q as At,S as Mt,T as fe,U as Pt,V as Dt,W as Ot,X as Rt,Y as Lt,Z as Tt,_ as Kt,$ as ir,a0 as Ce,a1 as Qe,a2 as Ae,a3 as He,a4 as sr,a5 as Be,a6 as qe,a7 as Me,a8 as oe,a9 as Pe,aa as Fe,ab as Nt,ac as Ut,ad as or}from"./vendor-DGVArQ4Y.js";import{P as ar,$ as dr,a as cr,D as je,b as Qt,t as ur,c as gr,w as De,d as Ht,e as Bt,f as qt,g as Ft,h as jt,i as Wt,j as Gt,k as Vt,l as Jt,m as hr,n as fr,o as mr,E as vr,r as pr,p as yr,q as xr,s as br,u as $r,v as _r,x as Cr,y as kr,z as wr,A as Oe,B as Sr,C as Xt,F as Er,G as Ir,H as Yt}from"./milkdown-B618w8q7.js";import{d as Se,p as zr}from"./markdown-5gHqQypg.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const g of u)if(g.type==="childList")for(const x of g.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function d(u){const g={};return u.integrity&&(g.integrity=u.integrity),u.referrerPolicy&&(g.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?g.credentials="include":u.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function a(u){if(u.ep)return;u.ep=!0;const g=d(u);fetch(u.href,g)}})();const Ar="modulepreload",Mr=function(t){return"/"+t},Zt={},Le=function(i,d,a){let u=Promise.resolve();if(d&&d.length>0){let _=function(C){return Promise.all(C.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),m=x?.nonce||x?.getAttribute("nonce");u=_(d.map(C=>{if(C=Mr(C),C in Zt)return;Zt[C]=!0;const b=C.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${w}`))return;const v=document.createElement("link");if(v.rel=b?"stylesheet":Ar,b||(v.as="script"),v.crossOrigin="",v.href=C,m&&v.setAttribute("nonce",m),document.head.appendChild(v),b)return new Promise((S,E)=>{v.addEventListener("load",S),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${C}`)))})}))}function g(x){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=x,window.dispatchEvent(m),!m.defaultPrevented)throw x}return u.then(x=>{for(const m of x||[])m.status==="rejected"&&g(m.reason);return i().catch(g)})};class Pr{worker=null;listeners=new Map;componentListeners=new Map;_status;_setStatus;id="";executionCount=0;constructor(){const[i,d]=F("loading");this._status=i,this._setStatus=d}get status(){return this._status()}init(){this.worker&&this.terminate(),this.id=Math.random().toString(36).substring(7),this.executionCount=0,this._setStatus("loading"),this.worker=new Worker(new URL("/assets/pyodide.worker-B3LxrWM1.js",import.meta.url),{type:"module"}),this.worker.onmessage=i=>{const{type:d,id:a,error:u}=i.data;if(d==="ready")this._setStatus("ready");else if(d==="error"&&!a)console.error("Pyodide Init Error:",u),this._setStatus("error");else if(d==="component_update"){const{uid:g,data:x}=i.data;this.componentListeners.has(g)&&this.componentListeners.get(g)(x)}else a&&this.listeners.has(a)&&this.listeners.get(a)(i.data)},this.worker.postMessage({type:"init"})}sendInteraction(i,d){this.worker&&this.status==="ready"&&this.worker.postMessage({type:"interaction",uid:i,data:d})}registerComponentListener(i,d){this.componentListeners.set(i,d)}unregisterComponentListener(i){this.componentListeners.delete(i)}setCellContext(i){this.worker&&this.status==="ready"&&this.worker.postMessage({type:"set_cell_context",id:i})}clearCellState(i){this.worker&&this.status==="ready"&&this.worker.postMessage({type:"clear_cell_context",id:i})}run(i,d){if(!this.worker||this.status!=="ready"&&this.status!=="running")throw this.status==="stopped"?new Error("Kernel is stopped"):new Error("Kernel not ready");const a=Math.random().toString(36).substring(7);this._setStatus("running"),this.executionCount++;const u=Date.now(),g=this.id,x=this.executionCount,m={stdout:[],stderr:[],result:void 0,mimebundle:void 0,error:void 0,executionTime:u,executionCount:x,executionKernelId:g};return new Promise(_=>{this.listeners.set(a,C=>{C.type==="stdout"?(m.stdout.push(C.content),d({...m})):C.type==="stderr"?(m.stderr.push(C.content),d({...m})):C.type==="success"?(m.result=C.result,m.mimebundle=C.mimebundle,m.executionDuration=Date.now()-u,d({...m}),this.listeners.delete(a),this._setStatus("ready"),_()):C.type==="error"&&(m.error=C.error,m.executionDuration=Date.now()-u,d({...m}),this.listeners.delete(a),this._setStatus("ready"),_())}),this.worker.postMessage({type:"run",id:a,code:i})})}terminate(){this.worker&&(this.worker.terminate(),this.worker=null);for(const[,i]of this.listeners)i({type:"error",error:"Kernel interrupted"});this.listeners.clear(),this._setStatus("stopped")}restart(){this.terminate(),this.init()}}const A=new Pr,Dr=100,Or=[{id:crypto.randomUUID(),type:"markdown",content:`# Welcome to PyNote

This is a **modern** notebook running Python in your browser via WebAssembly (Pyodide).

Double click a cell to edit. Drag handle to reorder.`},{id:crypto.randomUUID(),type:"code",content:`print('Hello from Pyodide!')
import sys
print(sys.version)`}],[N,D]=hl({cells:[],filename:"untitled.ipynb",activeCellId:null,history:[],historyIndex:-1,presentationMode:!1,executionMode:"hybrid",executionQueue:[],sidebarAlignment:"top"}),h=N,We=t=>{D(X(i=>{i.historyIndex<i.history.length-1&&(i.history=i.history.slice(0,i.historyIndex+1)),i.history.push(t),i.history.length>Dr?i.history.shift():i.historyIndex++}))},c={addCell:(t,i)=>{const d=crypto.randomUUID(),a=i!==void 0?i:N.cells.length;D("cells",X(u=>{const g={id:d,type:t,content:"",isEditing:!0};i!==void 0?u.splice(i,0,g):u.push(g)})),We(`a|${a}|${t}|${d}`),c.setActiveCell(d),c.__autosaveCallback&&c.__autosaveCallback()},updateCell:(t,i)=>{D("cells",d=>d.id===t,"content",i),c.__autosaveCallback&&c.__autosaveCallback()},updateCellOutput:(t,i)=>{D("cells",d=>d.id===t,"outputs",i)},changeCellType:(t,i)=>{D("cells",d=>d.id===t,"type",i),c.__autosaveCallback&&c.__autosaveCallback()},clearCellOutput:t=>{D("cells",i=>i.id===t,"outputs",void 0)},deleteCell:t=>{const i=N.cells.find(a=>a.id===t),d=N.cells.findIndex(a=>a.id===t);if(d!==-1&&i){A.clearCellState(t);const a=i.content.replace(/\|/g,"\\|");We(`d|${d}|${i.type}|${t}|${a}`),D("cells",X(u=>{u.splice(d,1)})),N.activeCellId===t&&D("activeCellId",null)}c.__autosaveCallback&&c.__autosaveCallback()},moveCell:(t,i)=>{const d=N.cells[t];d&&(We(`m|${t}|${i}|${d.id}`),D("cells",X(a=>{const[u]=a.splice(t,1);a.splice(i,0,u)})),c.__autosaveCallback&&c.__autosaveCallback())},undo:()=>{if(N.historyIndex<0)return;const i=N.history[N.historyIndex].split("|"),d=i[0];if(D("historyIndex",N.historyIndex-1),d==="a"){const[,a,,]=i,u=parseInt(a);D("cells",X(g=>{g.splice(u,1)}))}else if(d==="d"){const[,a,u,g,...x]=i,m=parseInt(a),_=x.join("|").replace(/\\\|/g,"|");D("cells",X(C=>{C.splice(m,0,{id:g,type:u,content:_,isEditing:!1})}))}else if(d==="m"){const[,a,u]=i,g=parseInt(a),x=parseInt(u);D("cells",X(m=>{const[_]=m.splice(x,1);m.splice(g,0,_)}))}},redo:()=>{if(N.historyIndex>=N.history.length-1)return;D("historyIndex",N.historyIndex+1);const i=N.history[N.historyIndex].split("|"),d=i[0];if(d==="a"){const[,a,u,g]=i,x=parseInt(a);D("cells",X(m=>{m.splice(x,0,{id:g,type:u,content:"",isEditing:!1})}))}else if(d==="d"){const[,a]=i,u=parseInt(a);D("cells",X(g=>{g.splice(u,1)}))}else if(d==="m"){const[,a,u]=i,g=parseInt(a),x=parseInt(u);D("cells",X(m=>{const[_]=m.splice(g,1);m.splice(x,0,_)}))}},setActiveCell:t=>{D("activeCellId",t),D("cells",i=>i.id!==t,"isEditing",!1)},__autosaveCallback:void 0,__setAutosaveCallback(t){c.__autosaveCallback=t},setEditing:(t,i)=>{D("cells",d=>d.id===t,"isEditing",i),!i&&c.__autosaveCallback&&c.__autosaveCallback()},setCellRunning:(t,i)=>{D("cells",d=>d.id===t,"isRunning",i)},setCellQueued:(t,i)=>{D("cells",d=>d.id===t,"isQueued",i)},setExecutionMode:t=>{D("executionMode",t)},runCell:(t,i)=>{const d=N.cells.find(b=>b.id===t);if(!d||d.type!=="code"||d.isRunning||d.isQueued)return;const a=N.executionMode,u=N.cells.some(b=>b.isRunning),g=A.status==="loading",x=N.cells.findIndex(b=>b.id===t)-1,m=x>=0?N.cells[x]:null,_=m&&(m.isRunning||m.isQueued);g||(a==="queue_all"?u:a==="hybrid"?_:!1)?c.addToQueue(t):c.executeCell(t,i)},executeCell:async(t,i)=>{c.setCellRunning(t,!0);const d=N.cells.find(u=>u.id===t);if(!d)return;const a=d.outputs;try{A.clearCellState(t),A.setCellContext(t),await i(d.content,t)}catch(u){console.error(u);const g=N.cells.find(x=>x.id===t);g&&g.outputs===a&&c.clearCellOutput(t)}finally{c.setCellRunning(t,!1);const u=c.popFromQueue();u&&c.executeCell(u,i)}},addToQueue:t=>{N.executionQueue.includes(t)||(D("executionQueue",X(i=>i.push(t))),c.setCellQueued(t,!0))},popFromQueue:()=>{const t=N.executionQueue[0];return t?(D("executionQueue",X(i=>i.shift())),c.setCellQueued(t,!1),t):null},clearAllOutputs:()=>{D("cells",{},"outputs",void 0)},resetExecutionState:()=>{D("executionQueue",[]),D("cells",{},t=>({...t,isRunning:!1,isQueued:!1}))},deleteAllCells:()=>{N.cells.length!==0&&(D("cells",[]),c.__autosaveCallback&&c.__autosaveCallback())},loadNotebook:(t,i,d,a,u)=>{D({cells:t,filename:i,activeCellId:u||null,history:d||[],historyIndex:a!==void 0?a:d?d.length-1:-1})},setPresentationMode:t=>{D("presentationMode",t),t&&(D("activeCellId",null),D("cells",()=>!0,"isEditing",!1))}},Ge=[{id:"tut-1",type:"markdown",content:`# Welcome to PyNote!

This is an interactive tutorial running right inside your browser. **I am a notebook**, just like the ones you will create.

Double-click this text to edit it, then press \`Ctrl + Enter\` (or the Run button) to render it again.

PyNote runs Python using **WebAssembly**, so your code executes locally on your machine. No server required!`},{id:"tut-2",type:"code",content:`# This is a code cell. You can run Python code here.
# Press Shift + Enter to run and move to the next cell.

import sys
print(f"Hello from Python {sys.version.split()[0]} running in the browser!")

a = 10
b = 20
print(f"Calculation: {a} + {b} = {a+b}")`},{id:"tut-3",type:"markdown",content:`## Interactive UI with pynote_ui

PyNote includes a special library called \`pynote_ui\` that lets you build interactive widgets using Python.

Run the cell below to see a **Slider** controlling a **Text** display in real-time. This demonstrates bidirectional communication between Python and the UI.`},{id:"tut-4",type:"code",content:`from pynote_ui.elements import Slider, Text, Group

# Create a slider and a text display
slider = Slider(min=0, max=100, value=50, label="Input Value")
display = Text(content="Current value squared: 2500")

# Define a callback function
def on_change(data):
    # Get the new value from the slider
    val = int(data.get('value', 0))
    # Update the text display
    display.content = f"Current value squared: {val**2}"

# Attach the callback to the slider
slider.on_update(on_change)

# Display both widgets in a Group
Group([slider, display])`},{id:"tut-result-demo",type:"markdown",content:"### Output Types: Result vs. Print\n\nPyNote distinguishes between **execution results** (the value of the last expression) and **printed output** (standard output).\n\n1. **Result Only:** The cell below evaluates `10 * 10`. No `print()` is used, but the result `100` is displayed as the cell's return value."},{id:"tut-result-only",type:"code",content:`# This expression returns 100, which is displayed as the 'Result'
10 * 10`},{id:"tut-stdout-demo",type:"markdown",content:'2. **Print (Stdout) Only:** The cell below uses `print()`. This text goes to the standard output stream. The cell returns `None` (implicitly), so no "Result" section is shown.'},{id:"tut-stdout-only",type:"code",content:`# This sends text to stdout
print("I am standard output!")
print("Me too.")`},{id:"tut-5",type:"markdown",content:`## Next Steps

- **Add Cells:** Use the buttons at the bottom or the toolbar menu.
- **Shortcuts:** Press \`Ctrl + /\` to see keyboard shortcuts.
- **Export:** Save your work as a \`.ipynb\` file to use in other Jupyter environments.

Happy Coding!`}],Rr={font:'"JetBrains Mono Variable", monospace',colors:{primary:"#f38ba8",secondary:"#cdd6f4",accent:"#89b4fa",background:"#1e1e2e",foreground:"rgba(205, 214, 244, 0.2)"},radii:{lg:"9999px",sm:"0.75rem"},spacing:{line:"1.75"},typography:{fontSize:"1rem",headerDelta:"0.225rem",headerColors:["#f38ba8","#fab387","#f9e2af","#a6e3a1"],headerMarginBottom:"1rem"},editor:{maxCodeHeight:"none"},sectionScoping:!0,outputLayout:"above"},[q]=hl(Rr),Ee=q,Lr=()=>{ge(()=>{const t=document.documentElement;t.style.setProperty("--font-mono",q.font),t.style.setProperty("--primary",q.colors.primary),t.style.setProperty("--secondary",q.colors.secondary),t.style.setProperty("--accent",q.colors.accent),t.style.setProperty("--background",q.colors.background),t.style.setProperty("--foreground",q.colors.foreground);try{localStorage.setItem("theme_bg",q.colors.background),localStorage.setItem("theme_text",q.colors.secondary)}catch{}t.style.setProperty("--radius-lg",q.radii.lg),t.style.setProperty("--radius-sm",q.radii.sm),t.style.setProperty("--line-spacing",q.spacing.line),t.style.setProperty("--font-size-base",q.typography.fontSize),t.style.setProperty("--font-size-delta",q.typography.headerDelta),t.style.setProperty("--header-margin-bottom",q.typography.headerMarginBottom);const i=q.typography.headerColors||[],d=i[0]||q.colors.primary,a=i[1]||d,u=i[2]||a,g=i[3]||u;t.style.setProperty("--header-color-1",d),t.style.setProperty("--header-color-2",a),t.style.setProperty("--header-color-3",u),t.style.setProperty("--header-color-4",g)})};var Tr=f("<div>");const Kr=t=>{const{ref:i,createExtension:d,editorView:a}=jl({onValueChange:t.onChange,value:t.value});return ge(()=>{!t.readOnly&&a()&&a().focus()}),d(()=>wt.theme({"&":{backgroundColor:"transparent !important",height:"auto",minHeight:"1.5rem",maxHeight:Ee.editor.maxCodeHeight,fontSize:"1rem",fontFamily:"var(--font-mono)"},".cm-content":{caretColor:"var(--accent)",padding:"1rem"},".cm-scroller":{fontFamily:"inherit",lineHeight:"1.6",overflow:"auto"},"&.cm-focused":{outline:"none"},".cm-gutters":{display:"none"}},{dark:!0})),d([Wl(),Gl,Vl(),Jl.of([{key:"Mod-Enter",run:()=>!1},Xl,...Yl,...Zl]),wt.lineWrapping]),d(()=>er.readOnly.of(!!t.readOnly)),(()=>{var u=Tr();return ve(i,u),U(()=>T(u,`relative w-full ${t.class||""}`)),u})()},Nr={Slider:Re(()=>Le(()=>import("./Slider-E3tDsNSN.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Text:Re(()=>Le(()=>import("./Text-BJhUqsYw.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),Group:Re(()=>Le(()=>import("./Group-D1HqXYYz.js"),__vite__mapDeps([8,1,2,3,4,5,6])))};var Ur=f('<div class="text-error text-xs p-2 border border-error rounded">Unknown UI Component: ');const Qr=t=>t.data?e(M,{get when(){return Nr[t.data.type]},get fallback(){return(()=>{var i=Ur();return i.firstChild,l(i,()=>t.data.type,null),i})()},children:i=>e(Pl,{get component(){return i()},get id(){return t.data.id},get props(){return t.data.props}})}):null;var Hr=f('<div class="flex w-full mt-2"><div class=w-full>'),Br=f('<div class="flex flex-col gap-1 font-mono text-sm px-2 pb-2 pt-0 pl-1 border-foreground max-h-125 overflow-y-auto">'),qr=f('<div class="text-secondary whitespace-pre-wrap">'),Fr=f('<div class="flex flex-col gap-1 font-mono text-sm px-2 pb-2 pt-0 pl-1 border-foreground max-h-60 overflow-y-auto">'),jr=f('<div class="text-primary whitespace-pre-wrap bg-primary/10 p-1 rounded-sm">'),Wr=f('<div class="flex flex-col gap-1 font-mono text-sm px-2 pb-2 pt-0 pl-1 border-foreground"><div class="text-primary whitespace-pre-wrap font-bold bg-primary/20 p-2 rounded-sm">'),Gr=f('<div class="flex flex-col gap-1 font-mono text-sm px-2 pb-2 pt-0 pl-1 border-foreground"><div class="flex w-full"><div class="w-10 bg-background border-r border-foreground flex flex-col items-center pt-5.25 text-sm text-foreground font-extrabold select-none font-mono">Out:</div><div class="flex-1 text-secondary/80 whitespace-pre-wrap border-l-4 border-foreground bg-accent/5 pt-5 p-4">');const el=t=>{const i=()=>{const d=t.outputs;return d&&(d.stdout&&d.stdout.length>0||d.mimebundle&&d.mimebundle["application/vnd.pynote.ui+json"])};return e(M,{get when(){return i()},get children(){var d=Br();return l(d,e(ne,{get each(){return t.outputs?.stdout},children:a=>(()=>{var u=qr();return l(u,a),u})()}),null),l(d,e(M,{get when(){return ie(()=>!!t.outputs?.mimebundle)()&&t.outputs.mimebundle["application/vnd.pynote.ui+json"]},get children(){var a=Hr(),u=a.firstChild;return l(u,e(Qr,{get data(){return t.outputs?.mimebundle["application/vnd.pynote.ui+json"]}})),a}}),null),d}})},Vr=t=>e(M,{get when(){return ie(()=>!!t.outputs?.stderr)()&&t.outputs.stderr.length>0},get children(){var i=Fr();return l(i,e(ne,{get each(){return t.outputs?.stderr},children:d=>(()=>{var a=jr();return l(a,d),a})()})),i}}),Jr=t=>e(M,{get when(){return t.outputs?.error},get children(){var i=Wr(),d=i.firstChild;return l(d,()=>t.outputs?.error),i}}),Xr=t=>e(M,{get when(){return t.outputs?.result},get children(){var i=Gr(),d=i.firstChild,a=d.firstChild,u=a.nextSibling;return l(u,()=>t.outputs?.result),i}});var Yr=f("<button>"),Zr=f('<div style=container-type:size;container-name:cell-sidebar><div><div class="cursor-grab hover:text-accent p-2 -m-1 rounded-sm text-foreground"></div><button class="p-2 -m-1 hover:text-primary rounded-sm text-foreground">'),en=f('<div class="absolute -top-8 right-2 flex bg-background shadow-md border border-foreground rounded-sm overflow-hidden z-10">'),tn=f("<div><div>");const bl=t=>{const i=Dl(t.id),[d,a]=F(!1),u=()=>h.presentationMode;return(()=>{var g=tn(),x=g.firstChild,m=i.ref;return typeof m=="function"?ve(m,g):i.ref=g,Ol(g,Rl(()=>i.dragActivators,{onKeyDown:void 0,get class(){return G("group relative flex flex-col my-3 rounded-sm border-2 transition-all duration-200 p-1 max-xs:p-0",!u()&&"cursor-grab active:cursor-grabbing",!t.isActive&&"border-transparent",!u()&&!t.isActive&&"hover:border-secondary/10",t.isActive&&!t.isEditing&&"border-accent/60",t.isActive&&t.isEditing&&"border-accent shadow-[0_0_5px_var(--accent)]",i.isActiveDraggable?"opacity-50":"")},get style(){return{transform:`translate3d(${i.transform.x}px, ${i.transform.y}px, 0)`}},onClick:_=>{u()||(_.stopPropagation(),t.onActivate())},onMouseEnter:()=>{u()||a(!0),t.onMouseEnter?.()},onMouseLeave:()=>{a(!1),t.onMouseLeave?.()}}),!1,!0),l(g,e(M,{get when(){return!u()},get children(){var _=Zr(),C=_.firstChild,b=C.firstChild,w=b.nextSibling;return l(C,e(M,{get when(){return t.onActionClick},get children(){var v=Yr();return v.$$click=S=>{S.stopPropagation(),t.onActionClick?.()},l(v,e(M,{get when(){return t.type==="code"},get fallback(){return e(M,{get when(){return t.isEditing},get fallback(){return e(xl,{size:14})},get children(){return e(yl,{size:14})}})},get children(){return e(M,{get when(){return!t.actionRunning},get fallback(){return e(pl,{size:14,class:"animate-pulse"})},get children(){return e(M,{get when(){return t.isQueued},get fallback(){return e(de,{size:14})},get children(){return e(vl,{size:14,class:"text-accent/70 animate-pulse"})}})}})}})),U(S=>{var E=t.type==="code"&&(t.actionRunning||t.isQueued),P=G("p-2 -m-1 hover:text-accent rounded-sm disabled:opacity-50",t.hasError?"text-primary":t.isActive||t.isEditing?"text-accent":"text-foreground"),O=t.type==="code"?"Run Cell":t.isEditing?"Finish Editing":"Edit Markdown";return E!==S.e&&(v.disabled=S.e=E),P!==S.t&&T(v,S.t=P),O!==S.a&&yt(v,"title",S.a=O),S},{e:void 0,t:void 0,a:void 0}),v}}),b),l(b,e(tr,{size:16})),w.$$click=v=>{v.stopPropagation(),t.onDelete()},l(w,e(ae,{size:14})),U(v=>{var S=G("absolute -left-10 w-8 top-0 bottom-0 flex flex-col items-center hidden lg:flex transition-opacity duration-200 pointer-events-none",d()||t.isActive?"opacity-100":"opacity-0"),E=G("flex flex-col items-center gap-2 pointer-events-auto py-2 transition-all duration-200 sidebar-inner-auto-center",h.sidebarAlignment==="top"?"mt-0 mb-auto":h.sidebarAlignment==="bottom"?"mt-auto mb-0":"my-auto");return S!==v.e&&T(_,v.e=S),E!==v.t&&T(C,v.t=E),v},{e:void 0,t:void 0}),_}}),x),l(g,e(M,{get when(){return ie(()=>!!t.isActive)()&&!u()},get children(){var _=en();return l(_,()=>t.toolbar),_}}),x),x.$$touchstart=_=>_.stopPropagation(),x.$$mousedown=_=>_.stopPropagation(),x.$$pointerdown=_=>_.stopPropagation(),l(x,()=>t.children),U(()=>T(x,G("w-full bg-background rounded-sm min-h-12.5 pl-1.5 max-xs:pl-1.1 cursor-auto",(t.isActive,"")))),g})()};he(["click","pointerdown","mousedown","touchstart"]);var ln=f('<div class="flex lg:hidden items-center gap-1 p-1"><button></button><div class="h-4 w-px bg-foreground mx-1"></div><span class="text-xs text-secondary/70 font-mono px-2">Python</span><div class="h-4 w-px bg-foreground mx-1"></div><button class="p-1.5 hover:bg-foreground rounded-sm text-primary"title="Delete Cell">'),rn=f('<div class="absolute inset-0 z-10 cursor-text">'),nn=f('<span class="text-[10px] text-secondary/30 select-none font-mono">ms'),sn=f('<span class="text-[10px] font-bold text-red-500/70 select-none flex items-center gap-1">! Error'),on=f('<span class="text-[10px] italic text-secondary/30 select-none">(previous session)'),an=f('<div class="flex pl-1.5 relative z-0 h-5 my-0.75"><div class="w-10 relative flex items-center justify-center"><div></div></div><div><span class="text-[10px] uppercase font-bold tracking-wider text-secondary/40 select-none">'),dn=f('<div class="flex flex-col"><div><div>[<!>]:</div><div class="flex-1 bg-background relative">');const cn=t=>{const[i,d]=F(!1),a=()=>{if(t.cell.isRunning){A.restart(),c.resetExecutionState();return}c.runCell(t.cell.id,async(g,x)=>{await A.run(g,m=>{c.updateCellOutput(x,m)})})},u=(()=>{var g=ln(),x=g.firstChild,m=x.nextSibling,_=m.nextSibling,C=_.nextSibling,b=C.nextSibling;return x.$$click=a,l(x,e(M,{get when(){return!t.cell.isRunning},get fallback(){return e(pl,{size:16,class:"animate-pulse text-primary"})},get children(){return e(M,{get when(){return t.cell.isQueued},get fallback(){return e(de,{size:16})},get children(){return e(vl,{size:16,class:"text-accent/70 animate-pulse"})}})}})),b.$$click=w=>{w.stopPropagation(),c.deleteCell(t.cell.id)},l(b,e(ae,{size:16})),U(w=>{var v=t.cell.isQueued,S=G("p-1.5 hover:bg-foreground rounded-sm disabled:opacity-50",t.cell.outputs?.error?"text-primary":(t.isActive||t.cell.isEditing,"text-accent")),E=t.cell.isRunning?"Stop Cell (Restart Kernel)":"Run Cell (Ctrl+Enter)";return v!==w.e&&(x.disabled=w.e=v),S!==w.t&&T(x,w.t=S),E!==w.a&&yt(x,"title",w.a=E),w},{e:void 0,t:void 0,a:void 0}),g})();return e(bl,{get id(){return t.cell.id},get isActive(){return t.isActive},get isEditing(){return t.cell.isEditing},onActivate:()=>c.setActiveCell(t.cell.id),onDelete:()=>c.deleteCell(t.cell.id),onMoveUp:()=>c.moveCell(t.index,t.index-1),onMoveDown:()=>c.moveCell(t.index,t.index+1),toolbar:u,type:"code",onActionClick:a,get actionRunning(){return t.cell.isRunning},get isQueued(){return t.cell.isQueued},get hasError(){return!!t.cell.outputs?.error},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),get children(){var g=dn(),x=g.firstChild,m=x.firstChild,_=m.firstChild,C=_.nextSibling;C.nextSibling;var b=m.nextSibling;return l(g,e(M,{get when(){return ie(()=>Ee.outputLayout==="above")()&&t.cell.outputs},get children(){return e(el,{get outputs(){return t.cell.outputs}})}}),x),l(m,()=>t.index+1,C),l(b,e(Kr,{get value(){return t.cell.content},onChange:w=>c.updateCell(t.cell.id,w),language:"python",get readOnly(){return!t.cell.isEditing}}),null),l(b,e(M,{get when(){return!t.cell.isEditing},get children(){var w=rn();return w.$$click=v=>{t.isActive&&(v.stopPropagation(),c.setEditing(t.cell.id,!0))},w}}),null),l(g,e(M,{get when(){return ie(()=>!!t.cell.outputs)()&&(t.cell.outputs.stdout.length>0||t.cell.outputs.stderr.length>0||t.cell.outputs.result||t.cell.outputs.error)},get children(){var w=an(),v=w.firstChild,S=v.firstChild,E=v.nextSibling,P=E.firstChild;return l(P,()=>{const O=t.cell.outputs;return!O||!O.executionTime?"":new Date(O.executionTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),l(E,e(M,{get when(){return t.cell.outputs?.executionDuration},get children(){var O=nn(),L=O.firstChild;return l(O,()=>t.cell.outputs?.executionDuration,L),O}}),null),l(E,e(M,{get when(){return t.cell.outputs?.error},get children(){return sn()}}),null),l(E,e(M,{get when(){return ie(()=>!!t.cell.outputs?.executionKernelId)()&&t.cell.outputs.executionKernelId!==A.id},get children(){return on()}}),null),U(O=>{var L=G("absolute -right-1.25 rounded-full transition-all duration-300",t.isActive||t.cell.isEditing?"w-2.5 h-2.5":"w-2.5 h-2.5 group-hover:scale-125",(()=>{const V=t.cell.outputs;return t.isActive||t.cell.isEditing||i()?!V||V.executionKernelId&&V.executionKernelId!==A.id?"bg-gray-500":V.error?"bg-red-500":"bg-green-500":"bg-zinc-700"})()),H=G("flex-1 flex items-center pl-4 gap-3 transition-opacity duration-200",t.isActive||t.cell.isEditing||i()?"opacity-100":"opacity-0");return L!==O.e&&T(S,O.e=L),H!==O.t&&T(E,O.t=H),O},{e:void 0,t:void 0}),w}}),null),l(g,e(M,{get when(){return t.cell.outputs},get children(){return e(Vr,{get outputs(){return t.cell.outputs}})}}),null),l(g,e(M,{get when(){return t.cell.outputs},get children(){return e(Xr,{get outputs(){return t.cell.outputs}})}}),null),l(g,e(M,{get when(){return ie(()=>Ee.outputLayout==="below")()&&t.cell.outputs},get children(){return e(el,{get outputs(){return t.cell.outputs}})}}),null),l(g,e(M,{get when(){return t.cell.outputs},get children(){return e(Jr,{get outputs(){return t.cell.outputs}})}}),null),U(w=>{var v=G("flex relative pl-1.75 z-10",t.cell.outputs&&(t.cell.outputs.stdout.length>0||t.cell.outputs.stderr.length>0||t.cell.outputs.result||t.cell.outputs.error)?"pt-2 px-2 pb-0":"p-2"),S=G("w-10 bg-background border-r border-foreground flex flex-col items-center pt-5.5 pr-1.5 text-xs select-none font-mono",t.cell.outputs?.executionKernelId===A.id?"text-secondary/50 font-bold":"text-foreground");return v!==w.e&&T(x,w.e=v),S!==w.t&&T(m,w.t=S),w},{e:void 0,t:void 0}),g}})};he(["click"]);var un=f("<div><div class=py-1 role=menu aria-orientation=vertical>"),gn=f('<div class="relative inline-block text-left"><div>'),hn=f('<span class="text-xs font-mono opacity-50 group-hover:opacity-80">'),fn=f('<button role=menuitem><span class="flex items-center gap-2">'),mn=f('<div class="absolute left-full -top-1 w-70 rounded-sm shadow-lg bg-background border border-foreground ring-1 ring-black/5 z-50"><div class=py-1 role=menu aria-orientation=vertical>'),vn=f('<div class=relative><button class="w-full text-left block px-4 py-2 text-sm text-secondary hover:bg-foreground hover:text-secondary"role=menuitem>'),pn=f('<div class="border-t border-foreground my-1">');const ce=t=>{const[i,d]=F(!1),[a,u]=F({top:0,left:0,right:0});let g,x;const m=v=>{const S=v.target,E=g&&g.contains(S),P=x&&x.contains(S);!E&&!P&&d(!1)},_=()=>{if(!i()&&g){const v=g.getBoundingClientRect();u({top:v.bottom,left:v.left,right:v.right})}d(!i())},C=()=>{if(i()&&g){const v=g.getBoundingClientRect();u({top:v.bottom,left:v.left,right:v.right})}};document.addEventListener("click",m),window.addEventListener("scroll",C,!0),window.addEventListener("resize",C),ue(()=>{document.removeEventListener("click",m),window.removeEventListener("scroll",C,!0),window.removeEventListener("resize",C)});const b=G("shadow-lg bg-background border border-foreground ring-1 ring-black/5 focus:outline-none z-50",t.fullWidthMobile?"max-xs:fixed max-xs:left-0 max-xs:right-0 max-xs:top-16.25 max-xs:mt-0 max-xs:rounded-none max-xs:border-t-0 max-xs:w-auto":"",t.fullWidthMobile?"xs:absolute xs:mt-2 xs:w-70 sm:w-40 xs:rounded-sm":"mt-2 w-70 rounded-sm",!t.usePortal&&(t.align==="right"?"right-0":"left-0"),!t.usePortal&&"absolute"),w=(()=>{var v=un(),S=v.firstChild,E=x;return typeof E=="function"?ve(E,v):x=v,S.$$click=()=>d(!1),l(S,()=>t.children),U(P=>{var O=G(b,t.usePortal&&"fixed"),L=t.usePortal?{top:`${a().top-2}px`,left:t.align==="right"?"auto":`${a().left}px`,right:t.align==="right"?`${document.documentElement.clientWidth-a().right}px`:"auto"}:void 0;return O!==P.e&&T(v,P.e=O),P.t=Ll(v,L,P.t),P},{e:void 0,t:void 0}),v})();return(()=>{var v=gn(),S=v.firstChild,E=g;return typeof E=="function"?ve(E,v):g=v,S.$$click=_,l(S,()=>t.trigger),l(v,e(M,{get when(){return i()},get children(){return e(M,{get when(){return t.usePortal},fallback:w,get children(){return e(Tl,{children:w})}})}}),null),v})()},p=t=>(()=>{var i=fn(),d=i.firstChild;return fl(i,"click",t.onClick,!0),l(d,()=>t.children),l(i,e(M,{get when(){return t.shortcut},get children(){var a=hn();return l(a,()=>t.shortcut),a}}),null),U(a=>{var u=t.disabled,g=G("w-full text-left flex items-center justify-between px-4 py-2 text-sm text-secondary hover:bg-foreground hover:text-secondary disabled:opacity-50 disabled:cursor-not-allowed group",t.class);return u!==a.e&&(i.disabled=a.e=u),g!==a.t&&T(i,a.t=g),a},{e:void 0,t:void 0}),i})(),pt=t=>{const[i,d]=F(!1);return(()=>{var a=vn(),u=a.firstChild;return a.addEventListener("mouseleave",()=>d(!1)),a.addEventListener("mouseenter",()=>d(!0)),u.$$click=g=>{g.stopPropagation(),d(!0)},l(u,()=>t.label),l(a,e(M,{get when(){return i()},get children(){var g=mn(),x=g.firstChild;return l(x,()=>t.children),g}}),null),a})()},Q=()=>pn();he(["click"]);const yn=new ar("sectionScope"),xn=dr(()=>new cr({key:yn,state:{init(){return je.empty},apply(t,i,d,a){if(!Ee.sectionScoping)return je.empty;const u=[];let g=0;return a.doc.forEach((x,m)=>{x.type.name==="heading"?(g=Math.min(Math.max(x.attrs.level||0,1),4),u.push(Qt.node(m,m+x.nodeSize,{style:`--primary: var(--header-color-${g}) !important; --color-primary: var(--header-color-${g}) !important;`}))):g>0&&u.push(Qt.node(m,m+x.nodeSize,{style:`--primary: var(--header-color-${g}) !important; --color-primary: var(--header-color-${g}) !important;`}))}),je.create(a.doc,u)}},props:{decorations(t){return this.getState(t)}}}));var bn=f('<span class="text-xl font-bold">Heading 1'),$n=f('<span class="text-lg font-bold">Heading 2'),_n=f('<span class="text-base font-bold">Heading 3'),Cn=f('<span class="text-sm font-bold">Heading 4'),kn=f('<div class="flex items-center gap-2"> Link'),wn=f('<div class="flex items-center gap-2"> Bullet List'),Sn=f('<div class="flex items-center gap-2"> Numbered List'),En=f('<div class="flex items-center gap-2"> Quote'),In=f('<div class="flex items-center gap-2"> Inline Code'),zn=f('<div class="flex items-center gap-2"> Code Block'),An=f('<div class="flex items-center gap-2"> Image'),tl=f('<div class="flex items-center gap-2"> Insert Table'),ll=f('<div class="flex items-center gap-2"> Row Above'),rl=f('<div class="flex items-center gap-2"> Row Below'),nl=f('<div class="flex items-center gap-2"> Col Left'),il=f('<div class="flex items-center gap-2"> Col Right'),sl=f('<div class="flex items-center gap-2 text-primary"> Delete Selected'),ol=f('<div class="flex items-center gap-2 text-primary"> Delete Table'),Mn=f('<div class="flex flex-col gap-2"><div class="flex items-center gap-1 pb-1 -mt-2 max-xs:-mt-0.5 border-b border-foreground/30"><button class=btn-icon title=Bold></button><button class=btn-icon title=Italic></button><div class="w-px h-4 bg-foreground/30 mx-1 hidden sm:block"></div><div class="flex items-center gap-0"><button class="btn-icon rounded-r-none hover:z-10 -mr-px"title="Cycle Header Level"></button></div><div class="flex sm:hidden items-center"></div><div class="hidden sm:flex items-center gap-1"><div class="w-px h-4 bg-foreground/30 mx-1"></div><button class=btn-icon title=Link></button><button class=btn-icon title="Bullet List"></button><button class=btn-icon title="Numbered List"></button><div class="w-px h-4 bg-foreground/30 mx-1"></div><button class=btn-icon title=Quote></button><button class=btn-icon title="Inline Code"></button><button class=btn-icon title="Code Block"></button><button class=btn-icon title=Image></button></div></div><div class=milkdown-editor-wrapper>'),Pn=f('<button class="btn-icon rounded-l-none px-1"title="Heading Options">'),Dn=f('<button class=btn-icon title="More Formatting">'),On=f('<div class="flex items-center gap-2"> Table'),Rn=f('<button class=btn-icon title="Table Options">');const Ln=t=>{let i,d=null;we(()=>{i&&vr.make().config(b=>{b.set(pr,i),b.set(yr,t.value),b.get(xr).markdownUpdated((w,v)=>{t.onChange(v)})}).config(br).use($r).use(_r).use(Cr).use(kr).use(wr).use(xn).create().then(b=>{d=b,b.action(w=>{const v=w.get(Oe);v&&v.focus()})}).catch(b=>console.error("Milkdown init error",b))}),ue(()=>{d&&d.destroy()});const a=(b,w)=>{d?.action(Sr(b,w))},u=()=>{d?.action(b=>{const w=b.get(Oe),v=b.get(Xt),{state:S,dispatch:E}=w,{blockquote:P}=v.nodes,{$from:O}=S.selection;let L=!1;for(let H=O.depth;H>0;H--)if(O.node(H).type===P){L=!0;break}L?Er(S,E):Ir(P)(S,E)})},g=()=>{d?.action(b=>{const w=b.get(Oe),v=b.get(Xt),{state:S,dispatch:E}=w,{heading:P,paragraph:O}=v.nodes,{$from:L}=S.selection;let H=0;for(let Y=L.depth;Y>0;Y--){const te=L.node(Y);if(te.type===P){H=te.attrs.level;break}}const V=H>=4?0:H+1;V===0?Yt(O)(S,E):Yt(P,{level:V})(S,E)})},x=()=>{d?.action(b=>{const w=b.get(Oe),{state:v,dispatch:S}=w,{$from:E}=v.selection;for(let P=E.depth;P>0;P--)if(E.node(P).type.name==="table"){const O=E.start(P)-1,L=E.end(P)+1;S(v.tr.delete(O,L));return}})},m=()=>{const b=window.prompt("Enter URL");b&&a(hr.key,{href:b})},_=()=>{const b=window.prompt("Enter Image URL");b&&a(fr.key,{src:b})},C=()=>{a(mr.key,{row:3,col:3})};return(()=>{var b=Mn(),w=b.firstChild,v=w.firstChild,S=v.nextSibling,E=S.nextSibling,P=E.nextSibling,O=P.firstChild,L=P.nextSibling,H=L.nextSibling,V=H.firstChild,Y=V.nextSibling,te=Y.nextSibling,Z=te.nextSibling,Ke=Z.nextSibling,pe=Ke.nextSibling,ye=pe.nextSibling,J=ye.nextSibling,Ie=J.nextSibling,z=w.nextSibling;v.$$click=()=>a(ur.key),l(v,e(lr,{size:16})),S.$$click=()=>a(gr.key),l(S,e(rr,{size:16})),O.$$click=g,l(O,e(nr,{size:16})),l(P,e(ce,{get trigger(){return(()=>{var s=Pn();return l(s,e(ke,{size:12})),s})()},get children(){return[e(p,{onClick:()=>a(De.key,1),get children(){return bn()}}),e(p,{onClick:()=>a(De.key,2),get children(){return $n()}}),e(p,{onClick:()=>a(De.key,3),get children(){return _n()}}),e(p,{onClick:()=>a(De.key,4),get children(){return Cn()}})]}}),null),l(L,e(ce,{usePortal:!0,get trigger(){return(()=>{var s=Dn();return l(s,e(ir,{size:16})),s})()},get children(){return[e(p,{onClick:m,get children(){var s=kn(),k=s.firstChild;return l(s,e(St,{size:16}),k),s}}),e(Q,{}),e(p,{onClick:()=>a(Ht.key),get children(){var s=wn(),k=s.firstChild;return l(s,e(Et,{size:16}),k),s}}),e(p,{onClick:()=>a(Bt.key),get children(){var s=Sn(),k=s.firstChild;return l(s,e(It,{size:16}),k),s}}),e(Q,{}),e(p,{onClick:u,get children(){var s=En(),k=s.firstChild;return l(s,e(zt,{size:16}),k),s}}),e(p,{onClick:()=>a(qt.key),get children(){var s=In(),k=s.firstChild;return l(s,e(Te,{size:16}),k),s}}),e(p,{onClick:()=>a(Ft.key),get children(){var s=zn(),k=s.firstChild;return l(s,e(At,{size:16}),k),s}}),e(p,{onClick:_,get children(){var s=An(),k=s.firstChild;return l(s,e(Mt,{size:16}),k),s}}),e(pt,{get label(){return(()=>{var s=On(),k=s.firstChild;return l(s,e(Kt,{size:16}),k),s})()},get children(){return[e(p,{onClick:C,get children(){var s=tl(),k=s.firstChild;return l(s,e(fe,{size:16}),k),s}}),e(Q,{}),e(p,{onClick:()=>a(jt.key),get children(){var s=ll(),k=s.firstChild;return l(s,e(Pt,{size:16}),k),s}}),e(p,{onClick:()=>a(Wt.key),get children(){var s=rl(),k=s.firstChild;return l(s,e(Dt,{size:16}),k),s}}),e(p,{onClick:()=>a(Gt.key),get children(){var s=nl(),k=s.firstChild;return l(s,e(Ot,{size:16}),k),s}}),e(p,{onClick:()=>a(Vt.key),get children(){var s=il(),k=s.firstChild;return l(s,e(Rt,{size:16}),k),s}}),e(Q,{}),e(p,{onClick:()=>a(Jt.key),get children(){var s=sl(),k=s.firstChild;return l(s,e(Lt,{size:16}),k),s}}),e(p,{onClick:x,get children(){var s=ol(),k=s.firstChild;return l(s,e(Tt,{size:16}),k),s}})]}})]}})),Y.$$click=m,l(Y,e(St,{size:16})),te.$$click=()=>a(Ht.key),l(te,e(Et,{size:16})),Z.$$click=()=>a(Bt.key),l(Z,e(It,{size:16})),pe.$$click=u,l(pe,e(zt,{size:16})),ye.$$click=()=>a(qt.key),l(ye,e(Te,{size:16})),J.$$click=()=>a(Ft.key),l(J,e(At,{size:16})),Ie.$$click=_,l(Ie,e(Mt,{size:16})),l(H,e(ce,{align:"right",get trigger(){return(()=>{var s=Rn();return l(s,e(Kt,{size:16})),s})()},get children(){return[e(p,{onClick:C,get children(){var s=tl(),k=s.firstChild;return l(s,e(fe,{size:16}),k),s}}),e(Q,{}),e(p,{onClick:()=>a(jt.key),get children(){var s=ll(),k=s.firstChild;return l(s,e(Pt,{size:16}),k),s}}),e(p,{onClick:()=>a(Wt.key),get children(){var s=rl(),k=s.firstChild;return l(s,e(Dt,{size:16}),k),s}}),e(p,{onClick:()=>a(Gt.key),get children(){var s=nl(),k=s.firstChild;return l(s,e(Ot,{size:16}),k),s}}),e(p,{onClick:()=>a(Vt.key),get children(){var s=il(),k=s.firstChild;return l(s,e(Rt,{size:16}),k),s}}),e(Q,{}),e(p,{onClick:()=>a(Jt.key),get children(){var s=sl(),k=s.firstChild;return l(s,e(Lt,{size:16}),k),s}}),e(p,{onClick:x,get children(){var s=ol(),k=s.firstChild;return l(s,e(Tt,{size:16}),k),s}})]}}),null);var o=i;return typeof o=="function"?ve(o,z):i=z,b})()};he(["click"]);var Tn=f('<div class="flex lg:hidden items-center gap-1 p-1"><button></button><div class="h-4 w-px bg-foreground mx-1"></div><span class="text-xs text-secondary/70 font-mono px-2">Markdown</span><div class="h-4 w-px bg-foreground mx-1"></div><button class="p-1.5 hover:bg-foreground rounded-sm text-primary"title="Delete Cell">'),Kn=f('<div class="p-3.5 max-xs:p-2.5">'),Nn=f('<div class="min-h-[50px] w-full">'),Un=f('<div class="prose prose-invert max-w-none p-3.5 max-xs:p-2.5 text-secondary">');const Qn={name:"displayMath",level:"inline",start(t){return t.match(/\$\$/)?.index},tokenizer(t){const i=/^\$\$([\s\S]+?)\$\$/.exec(t);if(i)return{type:"displayMath",raw:i[0],text:i[1].trim()}},renderer(t){return Fl.renderToString(t.text,{displayMode:!0,throwOnError:!1,output:"html"})}};Se.use(ql({throwOnError:!1,output:"html",trust:!0}));Se.use({extensions:[Qn]});const Hn={ADD_TAGS:["math","maction","maligngroup","malignmark","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mlongdiv","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mscarries","mscarry","msgroup","mstack","msline","mspace","msqrt","msrow","mstack","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","semantics","annotation","annotation-xml"],ADD_ATTR:["xmlns","display","mathvariant","columnalign","columnspacing","rowspacing","groupalign","class","style","data-level"]},Bn=t=>{const[i,d]=F(""),[a,u]=F(!1);ge(async()=>{try{u(!1);const m=t.cell.content||"Double click to edit...";let _="";if(Ee.sectionScoping){const C=Se.lexer(m),b=[];let w=!1;for(const S of C){if(S.type==="heading"){w&&b.push({type:"html",raw:"</div>",text:"</div>"});const P=`<div class="section-scope" data-level="${Math.min(Math.max(S.depth,1),4)}">`;b.push({type:"html",raw:P,text:P}),w=!0}b.push(S)}w&&b.push({type:"html",raw:"</div>",text:"</div>"}),b.links=C.links;const v=Se.parser(b);_=v instanceof Promise?await v:v}else{const C=Se.parse(m);_=C instanceof Promise?await C:C}d(zr.sanitize(_,Hn))}catch(m){console.error("Markdown rendering error:",m),u(!0)}});const g=()=>{c.setEditing(t.cell.id,!t.cell.isEditing)},x=(()=>{var m=Tn(),_=m.firstChild,C=_.nextSibling,b=C.nextSibling,w=b.nextSibling,v=w.nextSibling;return _.$$click=g,l(_,e(M,{get when(){return t.cell.isEditing},get fallback(){return e(xl,{size:16})},get children(){return e(yl,{size:16})}})),v.$$click=S=>{S.stopPropagation(),c.deleteCell(t.cell.id)},l(v,e(ae,{size:16})),U(S=>{var E=G("p-1.5 hover:bg-foreground rounded-sm",a()?"text-primary":t.isActive||t.cell.isEditing?"text-accent":"text-secondary"),P=t.cell.isEditing?"Finish Editing":"Edit Markdown";return E!==S.e&&T(_,S.e=E),P!==S.t&&yt(_,"title",S.t=P),S},{e:void 0,t:void 0}),m})();return e(bl,{get id(){return t.cell.id},get isActive(){return t.isActive},get isEditing(){return t.cell.isEditing},onActivate:()=>c.setActiveCell(t.cell.id),onDelete:()=>c.deleteCell(t.cell.id),onMoveUp:()=>c.moveCell(t.index,t.index-1),onMoveDown:()=>c.moveCell(t.index,t.index+1),toolbar:x,type:"markdown",onActionClick:g,get hasError(){return a()},get children(){var m=Nn();return m.$$dblclick=()=>c.setEditing(t.cell.id,!0),l(m,e(M,{get when(){return t.cell.isEditing},get fallback(){return(()=>{var _=Un();return U(()=>_.innerHTML=i()),_})()},get children(){var _=Kn();return l(_,e(Ln,{get value(){return t.cell.content},onChange:C=>c.updateCell(t.cell.id,C)})),_}})),m}})};he(["click","dblclick"]);var qn=f('<div class="fixed left-[calc(50%+28rem)] top-32 w-72 max-w-[20rem] hidden 2xl:flex flex-col gap-6 text-secondary/60 transition-opacity duration-300 group z-50"><button class="absolute -top-2 -right-2 p-1.5 rounded-lg hover:bg-foreground text-secondary/40 hover:text-secondary opacity-0 group-hover:opacity-100 transition-all duration-200 z-50 cursor-pointer"title="Hide Shortcuts"></button><div class=space-y-2><h3 class="text-xs font-bold uppercase tracking-widest opacity-50">Global</h3></div><div class="grid grid-cols-1"><div><h3 class="text-xs font-bold uppercase tracking-widest opacity-50">Command Mode</h3></div><div><h3 class="text-xs font-bold uppercase tracking-widest opacity-50">Edit Mode'),Ve=f('<div class="text-xs flex justify-between gap-8"><span class=font-light></span> <span class="font-mono opacity-75">'),Fn=f('<div class="fixed pointer-events-none z-50"style=width:832px><div class="bg-accent/20 border-2 border-accent h-12 w-full rounded-sm opacity-50 shadow-sm">'),jn=f('<div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">File'),Je=f('<div class="flex items-center gap-2"> New Notebook'),Xe=f('<div class="flex items-center gap-2"> Open...'),Ye=f('<div class="flex items-center gap-2"> Save'),Ze=f('<div class="flex items-center gap-2"> Export .ipynb'),Wn=f('<div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">View'),Gn=f('<div class="flex items-center gap-2"> Presentation'),et=f('<div class="flex items-center gap-2"> Performance'),tt=f('<div class="flex items-center gap-2"> Tutorial'),lt=f('<div class="flex items-center gap-2"> Shortcuts'),al=f('<div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">Cell'),rt=f('<div class="flex items-center gap-2"> Run Selected'),nt=f('<div class="flex items-center gap-2"> Clear Output'),it=f('<div class="flex items-center gap-2 text-primary"> Delete Cell'),dl=f('<div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">Notebook'),st=f('<div class="flex items-center gap-2"> Run All'),ot=f('<div class="flex items-center gap-2"> Clear All Outputs'),at=f('<div class="flex items-center gap-2 text-primary"> Delete All Cells'),cl=f('<div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">Execution'),dt=f('<div class="flex items-center gap-2"><div></div>Sequential'),ct=f('<div class="flex items-center gap-2"><div></div>Hybrid'),ut=f('<div class="flex items-center gap-2"><div></div>Concurrent'),ul=f('<div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">Session'),gt=f('<div class="flex items-center gap-2 text-accent"> Restart'),ht=f('<div class="flex items-center gap-2 text-primary"> Shut Down'),Vn=f('<div class="hidden sm:block">'),Jn=f('<div class="block sm:hidden"><div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">File</div><div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">Kernel</div><div class="px-4 py-2 text-xs font-bold text-secondary/70 uppercase">Execution'),Xn=f('<div class="flex items-center gap-2"> Add Code Cell'),Yn=f('<div class="flex items-center gap-2"> Add Markdown Cell'),Zn=f('<div class="flex items-center gap-2"> Undo'),ei=f('<div class="flex items-center gap-2"> Redo'),ti=f('<div class="px-4 max-xs:px-3">'),li=f("<div style=width:100%>"),ri=f('<div class="flex justify-center gap-4 mt-8 opacity-50 hover:opacity-100 transition-opacity"><button class="flex flex-row items-center gap-2 px-6 py-3 border-2 border-dashed border-foreground bg-background rounded-lg hover:border-accent hover:text-accent text-secondary transition-all shadow-sm"><span class="text-sm font-bold">Code</span></button><button class="flex flex-row items-center gap-2 px-6 py-3 border-2 border-dashed border-foreground bg-background rounded-lg hover:border-accent hover:text-accent text-secondary transition-all shadow-sm"><span class="text-sm font-bold">Text'),ni=f('<button class="fixed top-4 right-4 z-50 p-2 bg-background/80 backdrop-blur-md border border-foreground rounded-sm hover:bg-foreground transition-colors shadow-lg"title="Exit Presentation Mode">'),ii=f('<div class="fixed bottom-4 right-4 z-50 px-4 py-2 bg-background/60 backdrop-blur-md border border-foreground/30 rounded-sm text-sm text-secondary/60 shadow-lg">Press Esc to exit'),si=f('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-background/80 backdrop-blur-sm 2xl:hidden"><div class="bg-background border border-foreground rounded-sm shadow-xl max-w-lg w-full max-h-[80vh] flex flex-col"><div class="flex items-center justify-between p-4 border-b border-foreground flex-shrink-0"><h2 class="text-lg font-bold flex items-center gap-2"> Keyboard Shortcuts</h2><button class="p-1 hover:bg-foreground rounded-sm"></button></div><div class="p-4 space-y-6 overflow-y-auto flex-1"><div><h3 class="text-sm font-bold text-accent uppercase mb-2">Global</h3><div class="grid grid-cols-2 gap-2 text-sm"></div></div><div><h3 class="text-sm font-bold text-accent uppercase mb-2">Command Mode (Cell Selected)</h3><div class="grid grid-cols-2 gap-2 text-sm"></div></div><div><h3 class="text-sm font-bold text-accent uppercase mb-2">Edit Mode</h3><div class="grid grid-cols-2 gap-2 text-sm"></div></div></div><div class="p-4 border-t border-foreground text-center text-xs text-secondary/50 flex-shrink-0">Click anywhere outside to close'),oi=f('<div class=pb-32><div><div class="max-w-202 mx-auto px-7.5 max-xs:px-6.5 py-4 flex items-center justify-between"><div class="flex items-center gap-2"><div class="btn-toolbar bg-primary! text-background! hover:bg-primary/90! flex items-center justify-center font-bold! text-xl! leading-none sm:flex border-primary">PyNote</div><div class="h-8 w-px bg-foreground mx-1 hidden xs:block"></div><div class="hidden min-[800px]:flex items-center gap-2"><div class="h-8 w-px bg-foreground mx-1"></div><button class="btn-toolbar flex items-center gap-1"title="Add Code Cell"> </button><button class="btn-toolbar flex items-center gap-1"title="Add Markdown Cell"> </button><div class="h-8 w-px bg-foreground mx-1"></div><button class="btn-toolbar flex items-center gap-1"title=Undo></button><button class="btn-toolbar flex items-center gap-1"title=Redo></button></div><div class="flex min-[800px]:hidden items-center gap-2"></div><input type=file accept=.ipynb class=hidden></div><div class="flex items-center gap-2"><div><div></div><span class="hidden sm:inline"></span></div></div></div></div><div class="max-w-208 mx-auto">'),gl=f('<button class="btn-toolbar flex items-center gap-1">Options '),ai=f('<button class="btn-toolbar flex items-center gap-1">Kernel '),di=f('<div class="flex items-center gap-2"> File'),ci=f('<div class="flex items-center gap-2"> Kernel'),ui=f('<button class="btn-toolbar flex items-center gap-1">Actions '),ft=f("<div class=text-secondary/80>"),mt=f('<div class="font-mono text-right">');const gi=Re(()=>Le(()=>import("./PerformanceMonitor-CZm0t7Ml.js"),__vite__mapDeps([9,1,4]))),me={global:[{label:"New Notebook",keys:"Alt + N"},{label:"Open File",keys:"Ctrl + O"},{label:"Save Notebook",keys:"Ctrl + S"},{label:"Export .ipynb",keys:"Ctrl + E"},{label:"Toggle Shortcuts",keys:"Ctrl + /"},{label:"Presentation Mode",keys:"Alt + P"},{label:"Run All Cells",keys:"Alt + R"},{label:"Clear All Outputs",keys:"Alt + C"},{label:"Delete All Cells",keys:"Alt + D"},{label:"Restart Kernel",keys:"Alt + K"},{label:"Shutdown Kernel",keys:"Alt + Q"}],command:[{label:"Run & Stay",keys:"Ctrl + Enter"},{label:"Run & Select Next",keys:"Shift + Enter"},{label:"Run & Insert",keys:"Alt + Enter"},{label:"Enter Edit Mode",keys:"Enter"},{label:"Deselect Cell",keys:"Esc"},{label:"Change to Code",keys:"Y"},{label:"Change to Markdown",keys:"M"},{label:"Move Up",keys:"Alt/Ctrl+Shift + ↑"},{label:"Move Down",keys:"Alt/Ctrl+Shift + ↓"},{label:"Insert Above",keys:"A"},{label:"Insert Below",keys:"B"},{label:"Delete Cell",keys:"Ctrl + D"},{label:"Clear Output",keys:"Alt + Backspace"}],edit:[{label:"Run & Stay Editing",keys:"Ctrl + Enter"},{label:"Run & Edit Next",keys:"Shift + Enter"},{label:"Run & Insert",keys:"Alt + Enter"},{label:"Exit Edit Mode",keys:"Esc"}]},hi=t=>(()=>{var i=qn(),d=i.firstChild,a=d.nextSibling;a.firstChild;var u=a.nextSibling,g=u.firstChild;g.firstChild;var x=g.nextSibling;return x.firstChild,fl(d,"click",t.onClose,!0),l(d,e(oe,{size:16})),l(a,e(ne,{get each(){return me.global},children:m=>(()=>{var _=Ve(),C=_.firstChild,b=C.nextSibling,w=b.nextSibling;return l(C,()=>m.label),l(w,()=>m.keys),_})()}),null),l(g,e(ne,{get each(){return me.command},children:m=>(()=>{var _=Ve(),C=_.firstChild,b=C.nextSibling,w=b.nextSibling;return l(C,()=>m.label),l(w,()=>m.keys),_})()}),null),l(x,e(ne,{get each(){return me.edit},children:m=>(()=>{var _=Ve(),C=_.firstChild,b=C.nextSibling,w=b.nextSibling;return l(C,()=>m.label),l(w,()=>m.keys),_})()}),null),U(m=>{var _=`col-start-1 row-start-1 space-y-2 transition-all ease-out ${t.activeId&&!t.isEditing?"opacity-100 translate-x-0 duration-300 delay-100":"opacity-0 translate-x-4 duration-100 pointer-events-none"}`,C=`col-start-1 row-start-1 space-y-2 transition-all ease-out ${t.activeId&&t.isEditing?"opacity-100 translate-x-0 duration-300 delay-100":"opacity-0 translate-x-4 duration-100 pointer-events-none"}`;return _!==m.e&&T(g,m.e=_),C!==m.t&&T(x,m.t=C),m},{e:void 0,t:void 0}),i})();typeof window<"u"&&(window.lastMouseX=0,window.addEventListener("mousemove",t=>{window.lastMouseX=t.clientX}));const fi=t=>{const[i]=ml(),[d,a]=F({x:0,y:0});return ge(()=>{if(i.active.draggable){const u=g=>{a({x:g.clientX,y:g.clientY})};window.addEventListener("mousemove",u),ue(()=>{window.removeEventListener("mousemove",u)})}}),e(M,{get when(){return ie(()=>!!i.active.draggable)()&&t.height},get children(){var u=Fn();return U(g=>{var x=`${d().x-t.grabOffsetX-(832-t.cellWidth)/2}px`,m=`${d().y}px`;return x!==g.e&&vt(u,"left",g.e=x),m!==g.t&&vt(u,"top",g.t=m),g},{e:void 0,t:void 0}),u}})},mi=()=>{const[t,{recomputeLayouts:i}]=ml();let d=null,a=0;const u=15,g=80,x=50,m=b=>{a=b.clientY},_=()=>{i()},C=()=>{const{innerHeight:b}=window;a<g+x&&a>0?window.scrollBy(0,-u):a>b-x&&window.scrollBy(0,u),d=requestAnimationFrame(C)};return ge(()=>{t.active.draggable?(window.addEventListener("mousemove",m),window.addEventListener("scroll",_),d=requestAnimationFrame(C)):(window.removeEventListener("mousemove",m),window.removeEventListener("scroll",_),d&&(cancelAnimationFrame(d),d=null))}),ue(()=>{window.removeEventListener("mousemove",m),window.removeEventListener("scroll",_),d&&cancelAnimationFrame(d)}),null},vi=()=>{let t;const[i,d]=F(null),[a,u]=F(0),[g,x]=F(0),[m,_]=F(!1),[C,b]=F(!1),[w,v]=F(!1),[S,E]=F(0),P="pynote-autosave",O=async(z,o)=>{await A.run(z,s=>{c.updateCellOutput(o,s)})},L=z=>{c.runCell(z,O)};ge(()=>{const z=A.status;if(z==="ready"){if(h.executionQueue.length>0&&!h.cells.some(o=>o.isRunning)){const o=c.popFromQueue();o&&c.executeCell(o,O)}}else(z==="error"||z==="stopped")&&c.resetExecutionState()});const H=async()=>{for(const z of h.cells)z.type==="code"&&L(z.id)},V=()=>{h.activeCellId&&L(h.activeCellId)},Y=()=>{h.activeCellId&&c.clearCellOutput(h.activeCellId)},te=()=>{h.activeCellId&&c.deleteCell(h.activeCellId)};we(()=>{const z=o=>{(o.ctrlKey||o.metaKey)&&o.key==="s"?(o.preventDefault(),J()):(o.ctrlKey||o.metaKey)&&o.key==="o"?(o.preventDefault(),t?.click()):o.altKey&&o.key==="n"?(o.preventDefault(),c.loadNotebook([],"Untitled.ipynb"),E(j=>j+1),Z(),window.scrollTo(0,0)):(o.ctrlKey||o.metaKey)&&o.key==="e"?(o.preventDefault(),J()):(o.ctrlKey||o.metaKey)&&o.key==="/"?(o.preventDefault(),b(!C())):o.altKey&&o.key==="p"?(o.preventDefault(),c.setPresentationMode(!h.presentationMode)):o.altKey&&o.key==="r"?(o.preventDefault(),H()):o.altKey&&o.key==="c"?(o.preventDefault(),c.clearAllOutputs()):o.altKey&&o.key==="d"?(o.preventDefault(),c.deleteAllCells()):o.altKey&&o.key==="k"?(o.preventDefault(),A.restart(),c.resetExecutionState()):o.altKey&&o.key==="q"?(o.preventDefault(),A.terminate(),c.resetExecutionState()):o.altKey&&o.key==="Backspace"&&h.activeCellId&&(o.preventDefault(),c.clearCellOutput(h.activeCellId));const s=h.activeCellId,k=s?h.cells.find(j=>j.id===s):null,R=s?h.cells.findIndex(j=>j.id===s):-1;if(k?.isEditing)if(o.key==="Enter"&&o.shiftKey){if(o.preventDefault(),s)if(L(s),c.setEditing(s,!1),R<h.cells.length-1){const j=h.cells[R+1].id;c.setActiveCell(j),c.setEditing(j,!0)}else c.addCell(k?.type||"code")}else o.key==="Enter"&&o.ctrlKey?(o.preventDefault(),s&&L(s)):o.key==="Enter"&&o.altKey?(o.preventDefault(),s&&(L(s),c.setEditing(s,!1),c.addCell(k?.type||"code",R+1))):o.key==="Escape"&&s&&c.setEditing(s,!1);else s&&(o.key==="Enter"&&!o.shiftKey&&!o.ctrlKey&&!o.altKey?(o.preventDefault(),c.setEditing(s,!0)):o.key==="Escape"?(o.preventDefault(),c.setActiveCell(null)):o.key==="ArrowUp"&&(o.altKey||o.ctrlKey&&o.shiftKey)?(o.preventDefault(),R>0&&c.moveCell(R,R-1)):o.key==="ArrowDown"&&(o.altKey||o.ctrlKey&&o.shiftKey)?(o.preventDefault(),R<h.cells.length-1&&c.moveCell(R,R+1)):o.key==="ArrowUp"?(o.preventDefault(),R>0&&c.setActiveCell(h.cells[R-1].id)):o.key==="ArrowDown"?(o.preventDefault(),R<h.cells.length-1&&c.setActiveCell(h.cells[R+1].id)):o.key==="a"||o.key==="A"?c.addCell(k?.type||"code",R):o.key==="b"||o.key==="B"?c.addCell(k?.type||"code",R+1):o.key==="d"&&(o.ctrlKey||o.metaKey)?(o.preventDefault(),c.deleteCell(s)):o.key==="m"||o.key==="M"?c.changeCellType(s,"markdown"):o.key==="y"||o.key==="Y"?c.changeCellType(s,"code"):o.key==="Enter"&&o.shiftKey?(o.preventDefault(),L(s),R<h.cells.length-1&&c.setActiveCell(h.cells[R+1].id)):o.key==="Enter"&&o.ctrlKey?(o.preventDefault(),L(s)):o.key==="Enter"&&o.altKey&&(o.preventDefault(),L(s),c.addCell(k?.type||"code",R+1)))};window.addEventListener("keydown",z),ue(()=>window.removeEventListener("keydown",z))});function Z(){const z={cells:h.cells.map(o=>({...o,isEditing:!1,isRunning:!1,isQueued:!1})),filename:h.filename,history:h.history,historyIndex:h.historyIndex,activeCellId:h.activeCellId};try{localStorage.setItem(P,JSON.stringify(z))}catch{}}function Ke(){try{const z=localStorage.getItem(P);if(!z)return!1;const o=JSON.parse(z);if(o&&Array.isArray(o.cells)){const s=o.cells.map(k=>({...k,isRunning:!1,isQueued:!1}));return c.loadNotebook(s,o.filename||"Untitled.ipynb",o.history||[],typeof o.historyIndex=="number"?o.historyIndex:void 0,o.activeCellId),!0}}catch{}return!1}we(()=>{Ke()||c.loadNotebook([...Or],"Untitled.ipynb",[])}),c.__setAutosaveCallback?.(Z),ge(()=>{if(h.presentationMode){_(!0);const z=setTimeout(()=>_(!1),2500);ue(()=>clearTimeout(z))}}),we(()=>{const z=o=>{o.key==="Escape"&&h.presentationMode&&c.setPresentationMode(!1)};window.addEventListener("keydown",z),ue(()=>window.removeEventListener("keydown",z))});const pe=({draggable:z})=>{if(z.node){const o=z.node.getBoundingClientRect();d(o.height),x(o.width);const s=window.lastMouseX||0;u(s-o.left)}},ye=({draggable:z,droppable:o})=>{if(d(null),z&&o){const s=h.cells.findIndex(R=>R.id===z.id),k=h.cells.findIndex(R=>R.id===o.id);s!==-1&&k!==-1&&s!==k&&c.moveCell(s,k)}},J=()=>{const z={cells:h.cells.map(R=>({cell_type:R.type,source:R.content.split(`
`).map(se=>se+`
`),outputs:[],metadata:{}})),metadata:{kernelspec:{display_name:"Python 3 (Pyodide)",language:"python",name:"python3"},language_info:{name:"python",version:"3.11.3"},PyNote:{history:h.history}},nbformat:4,nbformat_minor:5},o=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),s=URL.createObjectURL(o),k=document.createElement("a");k.href=s,k.download=h.filename||"notebook.ipynb",k.click(),URL.revokeObjectURL(s)},Ie=z=>{const o=z.target.files?.[0];if(!o)return;const s=new FileReader;s.onload=k=>{try{const R=k.target?.result,se=JSON.parse(R);if(se.cells&&Array.isArray(se.cells)){const j=se.cells.map(W=>({id:crypto.randomUUID(),type:W.cell_type==="code"||W.cell_type==="markdown"?W.cell_type:"markdown",content:Array.isArray(W.source)?W.source.join(""):W.source||"",isEditing:!1})),xe=se.metadata?.PyNote?.history||[];c.loadNotebook(j,o.name,xe),E(W=>W+1),Z(),window.scrollTo(0,0)}}catch(R){console.error("Failed to load notebook",R),alert("Invalid notebook file")}},s.readAsText(o),t&&(t.value="")};return(()=>{var z=oi(),o=z.firstChild,s=o.firstChild,k=s.firstChild,R=k.firstChild,se=R.nextSibling,j=se.nextSibling,xe=j.firstChild,W=xe.nextSibling,$l=W.firstChild,be=W.nextSibling,_l=be.firstChild,Cl=be.nextSibling,$e=Cl.nextSibling,ze=$e.nextSibling,Ne=j.nextSibling,Ue=Ne.nextSibling,kl=k.nextSibling,xt=kl.firstChild,bt=xt.firstChild,wl=bt.nextSibling,$t=o.nextSibling;o.$$click=r=>{r.stopPropagation(),h.presentationMode||c.setActiveCell(null)},s.$$click=r=>r.stopPropagation(),l(j,e(ce,{get trigger(){return(()=>{var r=gl();return r.firstChild,l(r,e(ke,{size:18}),null),r})()},get children(){return[jn(),e(p,{onClick:()=>{c.loadNotebook([],"Untitled.ipynb"),E(r=>r+1),Z(),window.scrollTo(0,0)},shortcut:"Alt+N",get children(){var r=Je(),n=r.firstChild;return l(r,e(Ce,{size:18}),n),r}}),e(p,{onClick:()=>t?.click(),shortcut:"Ctrl+O",get children(){var r=Xe(),n=r.firstChild;return l(r,e(Qe,{size:18}),n),r}}),e(p,{onClick:J,shortcut:"Ctrl+S",get children(){var r=Ye(),n=r.firstChild;return l(r,e(Ae,{size:18}),n),r}}),e(p,{onClick:J,shortcut:"Ctrl+E",get children(){var r=Ze(),n=r.firstChild;return l(r,e(He,{size:18}),n),r}}),e(Q,{}),Wn(),e(p,{onClick:()=>c.setPresentationMode(!0),shortcut:"Alt+P",get children(){var r=Gn(),n=r.firstChild;return l(r,e(sr,{size:18}),n),r}}),e(p,{onClick:()=>v(!0),get children(){var r=et(),n=r.firstChild;return l(r,e(Be,{size:18}),n),r}}),e(p,{onClick:()=>{c.loadNotebook(JSON.parse(JSON.stringify(Ge)),"Tutorial.ipynb"),E(r=>r+1),Z(),window.scrollTo(0,0)},get children(){var r=tt(),n=r.firstChild;return l(r,e(qe,{size:18}),n),r}}),e(p,{onClick:()=>b(!C()),shortcut:"Ctrl+/",get children(){var r=lt(),n=r.firstChild;return l(r,e(Me,{size:18}),n),r}})]}}),xe),l(j,e(ce,{get trigger(){return(()=>{var r=ai();return r.firstChild,l(r,e(ke,{size:18}),null),r})()},get children(){return[al(),e(p,{onClick:V,get disabled(){return A.status!=="ready"||!h.activeCellId},shortcut:"Shift+Enter",get children(){var r=rt(),n=r.firstChild;return l(r,e(de,{size:18}),n),r}}),e(p,{onClick:Y,get disabled(){return A.status!=="ready"||!h.activeCellId||(()=>{const r=h.cells.find(n=>n.id===h.activeCellId);return!r||!r.outputs})()},get children(){var r=nt(),n=r.firstChild;return l(r,e(oe,{size:18}),n),r}}),e(p,{onClick:te,get disabled(){return A.status!=="ready"||!h.activeCellId},shortcut:"Ctrl+D",get children(){var r=it(),n=r.firstChild;return l(r,e(ae,{size:18}),n),r}}),e(Q,{}),dl(),e(p,{onClick:H,get disabled(){return A.status!=="ready"||h.cells.length===0},shortcut:"Alt+R",get children(){var r=st(),n=r.firstChild;return l(r,e(de,{size:18}),n),r}}),e(p,{onClick:()=>c.clearAllOutputs(),get disabled(){return A.status!=="ready"||!h.cells.some(r=>r.outputs)},shortcut:"Alt+C",get children(){var r=ot(),n=r.firstChild;return l(r,e(oe,{size:18}),n),r}}),e(p,{onClick:()=>c.deleteAllCells(),get disabled(){return A.status!=="ready"||h.cells.length===0},shortcut:"Alt+D",get children(){var r=at(),n=r.firstChild;return l(r,e(ae,{size:18}),n),r}}),e(Q,{}),cl(),e(p,{onClick:()=>c.setExecutionMode("queue_all"),get children(){var r=dt(),n=r.firstChild;return U(()=>T(n,`w-4 h-4 rounded-full border border-current ${h.executionMode==="queue_all"?"bg-accent":""}`)),r}}),e(p,{onClick:()=>c.setExecutionMode("hybrid"),get children(){var r=ct(),n=r.firstChild;return U(()=>T(n,`w-4 h-4 rounded-full border border-current ${h.executionMode==="hybrid"?"bg-accent":""}`)),r}}),e(p,{onClick:()=>c.setExecutionMode("direct"),get children(){var r=ut(),n=r.firstChild;return U(()=>T(n,`w-4 h-4 rounded-full border border-current ${h.executionMode==="direct"?"bg-accent":""}`)),r}}),e(Q,{}),ul(),e(p,{onClick:()=>{A.restart(),c.resetExecutionState()},shortcut:"Alt+K",get children(){var r=gt(),n=r.firstChild;return l(r,e(Pe,{size:18}),n),r}}),e(p,{onClick:()=>{A.terminate(),c.resetExecutionState()},shortcut:"Alt+Q",get children(){var r=ht(),n=r.firstChild;return l(r,e(Fe,{size:18}),n),r}})]}}),xe),W.$$click=()=>{const r=(()=>{const n=h.activeCellId;if(!n)return;const $=h.cells.findIndex(K=>K.id===n);if($!==-1)return $+1})();c.addCell("code",r)},l(W,e(fe,{size:20}),$l),l(W,e(Te,{size:20}),null),be.$$click=()=>{const r=(()=>{const n=h.activeCellId;if(!n)return;const $=h.cells.findIndex(K=>K.id===n);if($!==-1)return $+1})();c.addCell("markdown",r)},l(be,e(fe,{size:20}),_l),l(be,e(Ce,{size:20}),null),$e.$$click=()=>c.undo(),l($e,e(Nt,{size:20})),ze.$$click=()=>c.redo(),l(ze,e(Ut,{size:20})),l(Ne,e(ce,{get trigger(){return(()=>{var r=gl();return r.firstChild,l(r,e(ke,{size:18}),null),r})()},fullWidthMobile:!0,get children(){return[(()=>{var r=Vn();return l(r,e(pt,{get label(){return(()=>{var n=di(),$=n.firstChild;return l(n,e(Ae,{size:18}),$),n})()},get children(){return[e(p,{onClick:()=>c.loadNotebook([],"Untitled.ipynb"),shortcut:"Alt+N",get children(){var n=Je(),$=n.firstChild;return l(n,e(Ce,{size:18}),$),n}}),e(p,{onClick:()=>t?.click(),shortcut:"Ctrl+O",get children(){var n=Xe(),$=n.firstChild;return l(n,e(Qe,{size:18}),$),n}}),e(p,{onClick:J,shortcut:"Ctrl+S",get children(){var n=Ye(),$=n.firstChild;return l(n,e(Ae,{size:18}),$),n}}),e(p,{onClick:J,shortcut:"Ctrl+E",get children(){var n=Ze(),$=n.firstChild;return l(n,e(He,{size:18}),$),n}}),e(Q,{}),e(p,{onClick:()=>v(!0),get children(){var n=et(),$=n.firstChild;return l(n,e(Be,{size:18}),$),n}}),e(p,{onClick:()=>{c.loadNotebook(JSON.parse(JSON.stringify(Ge)),"Tutorial.ipynb"),E(n=>n+1),Z(),window.scrollTo(0,0)},get children(){var n=tt(),$=n.firstChild;return l(n,e(qe,{size:18}),$),n}}),e(p,{onClick:()=>b(!0),shortcut:"Ctrl+/",get children(){var n=lt(),$=n.firstChild;return l(n,e(Me,{size:18}),$),n}})]}}),null),l(r,e(pt,{get label(){return(()=>{var n=ci(),$=n.firstChild;return l(n,e(Pe,{size:18}),$),n})()},get children(){return[al(),e(p,{onClick:V,get disabled(){return A.status!=="ready"||!h.activeCellId},shortcut:"Shift+Enter",get children(){var n=rt(),$=n.firstChild;return l(n,e(de,{size:18}),$),n}}),e(p,{onClick:Y,get disabled(){return A.status!=="ready"||!h.activeCellId||(()=>{const n=h.cells.find($=>$.id===h.activeCellId);return!n||!n.outputs})()},get children(){var n=nt(),$=n.firstChild;return l(n,e(oe,{size:18}),$),n}}),e(p,{onClick:te,get disabled(){return A.status!=="ready"||!h.activeCellId},shortcut:"Ctrl+D",get children(){var n=it(),$=n.firstChild;return l(n,e(ae,{size:18}),$),n}}),e(Q,{}),dl(),e(p,{onClick:H,get disabled(){return A.status!=="ready"||h.cells.length===0},shortcut:"Alt+R",get children(){var n=st(),$=n.firstChild;return l(n,e(de,{size:18}),$),n}}),e(p,{onClick:()=>c.clearAllOutputs(),get disabled(){return A.status!=="ready"||!h.cells.some(n=>n.outputs)},shortcut:"Alt+C",get children(){var n=ot(),$=n.firstChild;return l(n,e(oe,{size:18}),$),n}}),e(p,{onClick:()=>c.deleteAllCells(),get disabled(){return A.status!=="ready"||h.cells.length===0},shortcut:"Alt+D",get children(){var n=at(),$=n.firstChild;return l(n,e(ae,{size:18}),$),n}}),e(Q,{}),cl(),e(p,{onClick:()=>c.setExecutionMode("queue_all"),get children(){var n=dt(),$=n.firstChild;return U(()=>T($,`w-4 h-4 rounded-full border border-current ${h.executionMode==="queue_all"?"bg-accent":""}`)),n}}),e(p,{onClick:()=>c.setExecutionMode("hybrid"),get children(){var n=ct(),$=n.firstChild;return U(()=>T($,`w-4 h-4 rounded-full border border-current ${h.executionMode==="hybrid"?"bg-accent":""}`)),n}}),e(p,{onClick:()=>c.setExecutionMode("direct"),get children(){var n=ut(),$=n.firstChild;return U(()=>T($,`w-4 h-4 rounded-full border border-current ${h.executionMode==="direct"?"bg-accent":""}`)),n}}),e(Q,{}),ul(),e(p,{onClick:()=>{A.restart(),c.resetExecutionState()},shortcut:"Alt+K",get children(){var n=gt(),$=n.firstChild;return l(n,e(Pe,{size:18}),$),n}}),e(p,{onClick:()=>{A.terminate(),c.resetExecutionState()},shortcut:"Alt+Q",get children(){var n=ht(),$=n.firstChild;return l(n,e(Fe,{size:18}),$),n}})]}}),null),r})(),(()=>{var r=Jn(),n=r.firstChild,$=n.nextSibling,K=$.nextSibling;return l(r,e(p,{onClick:()=>c.loadNotebook([],"Untitled.ipynb"),shortcut:"Alt+N",get children(){var y=Je(),I=y.firstChild;return l(y,e(Ce,{size:18}),I),y}}),$),l(r,e(p,{onClick:()=>t?.click(),shortcut:"Ctrl+O",get children(){var y=Xe(),I=y.firstChild;return l(y,e(Qe,{size:18}),I),y}}),$),l(r,e(p,{onClick:J,shortcut:"Ctrl+S",get children(){var y=Ye(),I=y.firstChild;return l(y,e(Ae,{size:18}),I),y}}),$),l(r,e(p,{onClick:J,shortcut:"Ctrl+E",get children(){var y=Ze(),I=y.firstChild;return l(y,e(He,{size:18}),I),y}}),$),l(r,e(p,{onClick:()=>v(!0),get children(){var y=et(),I=y.firstChild;return l(y,e(Be,{size:18}),I),y}}),$),l(r,e(p,{onClick:()=>{c.loadNotebook(JSON.parse(JSON.stringify(Ge)),"Tutorial.ipynb"),E(y=>y+1),Z(),window.scrollTo(0,0)},get children(){var y=tt(),I=y.firstChild;return l(y,e(qe,{size:18}),I),y}}),$),l(r,e(p,{onClick:()=>b(!0),shortcut:"Ctrl+/",get children(){var y=lt(),I=y.firstChild;return l(y,e(Me,{size:18}),I),y}}),$),l(r,e(Q,{}),$),l(r,e(p,{onClick:V,get disabled(){return A.status!=="ready"||!h.activeCellId},shortcut:"Shift+Enter",get children(){var y=rt(),I=y.firstChild;return l(y,e(de,{size:18}),I),y}}),K),l(r,e(p,{onClick:Y,get disabled(){return A.status!=="ready"||!h.activeCellId||(()=>{const y=h.cells.find(I=>I.id===h.activeCellId);return!y||!y.outputs})()},get children(){var y=nt(),I=y.firstChild;return l(y,e(oe,{size:18}),I),y}}),K),l(r,e(p,{onClick:te,get disabled(){return A.status!=="ready"||!h.activeCellId},shortcut:"Ctrl+D",get children(){var y=it(),I=y.firstChild;return l(y,e(ae,{size:18}),I),y}}),K),l(r,e(Q,{}),K),l(r,e(p,{onClick:H,get disabled(){return A.status!=="ready"||h.cells.length===0},shortcut:"Alt+R",get children(){var y=st(),I=y.firstChild;return l(y,e(de,{size:18}),I),y}}),K),l(r,e(p,{onClick:()=>c.clearAllOutputs(),get disabled(){return A.status!=="ready"||!h.cells.some(y=>y.outputs)},shortcut:"Alt+C",get children(){var y=ot(),I=y.firstChild;return l(y,e(oe,{size:18}),I),y}}),K),l(r,e(p,{onClick:()=>c.deleteAllCells(),get disabled(){return A.status!=="ready"||h.cells.length===0},shortcut:"Alt+D",get children(){var y=at(),I=y.firstChild;return l(y,e(ae,{size:18}),I),y}}),K),l(r,e(Q,{}),K),l(r,e(p,{onClick:()=>c.setExecutionMode("queue_all"),get children(){var y=dt(),I=y.firstChild;return U(()=>T(I,`w-4 h-4 rounded-full border border-current ${h.executionMode==="queue_all"?"bg-accent":""}`)),y}}),null),l(r,e(p,{onClick:()=>c.setExecutionMode("hybrid"),get children(){var y=ct(),I=y.firstChild;return U(()=>T(I,`w-4 h-4 rounded-full border border-current ${h.executionMode==="hybrid"?"bg-accent":""}`)),y}}),null),l(r,e(p,{onClick:()=>c.setExecutionMode("direct"),get children(){var y=ut(),I=y.firstChild;return U(()=>T(I,`w-4 h-4 rounded-full border border-current ${h.executionMode==="direct"?"bg-accent":""}`)),y}}),null),l(r,e(Q,{}),null),l(r,e(p,{onClick:()=>{A.restart(),c.resetExecutionState()},shortcut:"Alt+K",get children(){var y=gt(),I=y.firstChild;return l(y,e(Pe,{size:18}),I),y}}),null),l(r,e(p,{onClick:()=>A.terminate(),shortcut:"Alt+Q",get children(){var y=ht(),I=y.firstChild;return l(y,e(Fe,{size:18}),I),y}}),null),r})()]}}),null),l(Ne,e(ce,{get trigger(){return(()=>{var r=ui();return r.firstChild,l(r,e(ke,{size:18}),null),r})()},get children(){return[e(p,{onClick:()=>{const r=(()=>{const n=h.activeCellId;if(!n)return;const $=h.cells.findIndex(K=>K.id===n);if($!==-1)return $+1})();c.addCell("code",r)},get children(){var r=Xn(),n=r.firstChild;return l(r,e(Te,{size:18}),n),r}}),e(p,{onClick:()=>{const r=(()=>{const n=h.activeCellId;if(!n)return;const $=h.cells.findIndex(K=>K.id===n);if($!==-1)return $+1})();c.addCell("markdown",r)},get children(){var r=Yn(),n=r.firstChild;return l(r,e(Ce,{size:18}),n),r}}),e(Q,{}),e(p,{onClick:()=>c.undo(),get disabled(){return h.historyIndex<0},get children(){var r=Zn(),n=r.firstChild;return l(r,e(Nt,{size:16}),n),r}}),e(p,{onClick:()=>c.redo(),get disabled(){return h.historyIndex>=h.history.length-1},get children(){var r=ei(),n=r.firstChild;return l(r,e(Ut,{size:16}),n),r}})]}}),null),Ue.addEventListener("change",Ie);var _t=t;return typeof _t=="function"?ve(_t,Ue):t=Ue,l(wl,()=>A.status.toUpperCase()),l($t,e(Hl,{onDragStart:pe,onDragEnd:ye,collisionDetector:Kl,get children(){return[e(mi,{}),e(Nl,{}),(()=>{var r=ti();return l(r,e(ne,{get each(){return[S()]},children:()=>e(Ul,{get ids(){return h.cells.map(n=>n.id)},get children(){return e(or,{name:"cell-list",get children(){return e(ne,{get each(){return h.cells},children:(n,$)=>e(M,{get when(){return n.type==="code"},get fallback(){return e(Bn,{cell:n,get isActive(){return h.activeCellId===n.id},get index(){return $()}})},get children(){return e(cn,{cell:n,get isActive(){return h.activeCellId===n.id},get index(){return $()}})}})})}})}})})),r})(),e(Ql,{style:{opacity:0,"pointer-events":"none"},get children(){return e(M,{get when(){return i()},get children(){var r=li();return U(n=>vt(r,"height",`${i()}px`)),r}})}}),e(fi,{get height(){return i()},get grabOffsetX(){return a()},get cellWidth(){return g()}})]}}),null),l($t,e(M,{get when(){return!h.presentationMode},get children(){var r=ri(),n=r.firstChild,$=n.firstChild,K=n.nextSibling,y=K.firstChild;return r.$$click=I=>I.stopPropagation(),n.$$click=()=>{const I=(()=>{const le=h.activeCellId;if(!le)return;const ee=h.cells.findIndex(_e=>_e.id===le);if(ee!==-1)return ee+1})();c.addCell("code",I)},l(n,e(fe,{size:20}),$),K.$$click=()=>{const I=(()=>{const le=h.activeCellId;if(!le)return;const ee=h.cells.findIndex(_e=>_e.id===le);if(ee!==-1)return ee+1})();c.addCell("markdown",I)},l(K,e(fe,{size:20}),y),r}}),null),l(z,e(M,{get when(){return h.presentationMode},get children(){return[(()=>{var r=ni();return r.$$click=()=>c.setPresentationMode(!1),l(r,e(oe,{size:20,class:"text-secondary"})),r})(),e(M,{get when(){return m()},get children(){return ii()}})]}}),null),l(z,e(M,{get when(){return C()},get children(){var r=si(),n=r.firstChild,$=n.firstChild,K=$.firstChild,y=K.firstChild,I=K.nextSibling,le=$.nextSibling,ee=le.firstChild,_e=ee.firstChild,Sl=_e.nextSibling,Ct=ee.nextSibling,El=Ct.firstChild,Il=El.nextSibling,zl=Ct.nextSibling,Al=zl.firstChild,Ml=Al.nextSibling;return r.$$click=()=>b(!1),n.$$click=re=>re.stopPropagation(),l(K,e(Me,{}),y),I.$$click=()=>b(!1),l(I,e(oe,{size:20})),l(Sl,e(ne,{get each(){return me.global},children:re=>[(()=>{var B=ft();return l(B,()=>re.label),B})(),(()=>{var B=mt();return l(B,()=>re.keys),B})()]})),l(Il,e(ne,{get each(){return me.command},children:re=>[(()=>{var B=ft();return l(B,()=>re.label),B})(),(()=>{var B=mt();return l(B,()=>re.keys),B})()]})),l(Ml,e(ne,{get each(){return me.edit},children:re=>[(()=>{var B=ft();return l(B,()=>re.label),B})(),(()=>{var B=mt();return l(B,()=>re.keys),B})()]})),r}}),null),l(z,e(M,{get when(){return ie(()=>!!C())()&&!h.presentationMode},get children(){return e(hi,{get activeId(){return h.activeCellId},get isEditing(){return ie(()=>!!h.activeCellId)()&&!!h.cells.find(r=>r.id===h.activeCellId)?.isEditing},onClose:()=>b(!1)})}}),null),l(z,e(M,{get when(){return w()},get children(){return e(gi,{onClose:()=>v(!1)})}}),null),U(r=>{var n=`sticky top-0 z-20 max-xs:z-60 bg-background/80 backdrop-blur-md border-b border-foreground mb-8 shadow-sm transition-transform duration-300 ${h.presentationMode?"-translate-y-full":""}`,$=h.historyIndex<0,K={"opacity-50 cursor-not-allowed":h.historyIndex<0},y=h.historyIndex>=h.history.length-1,I={"opacity-50 cursor-not-allowed":h.historyIndex>=h.history.length-1},le=`text-xs font-mono py-1 rounded-sm flex items-center gap-2 ${A.status==="ready"?"text-green-500":A.status==="loading"||A.status==="running"?"text-yellow-500":"text-red-600"}`,ee=`w-2 h-2 rounded-full bg-current ${A.status==="running"||A.status==="loading"?"animate-pulse":""}`;return n!==r.e&&T(o,r.e=n),$!==r.t&&($e.disabled=r.t=$),r.a=kt($e,K,r.a),y!==r.o&&(ze.disabled=r.o=y),r.i=kt(ze,I,r.i),le!==r.n&&T(xt,r.n=le),ee!==r.s&&T(bt,r.s=ee),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),z})()};he(["click"]);var pi=f('<div class="min-h-screen bg-background text-secondary transition-colors duration-300 font-mono">');const yi=()=>(Lr(),we(()=>{A.init()}),(()=>{var t=pi();return t.$$click=()=>c.setActiveCell(null),l(t,e(vi,{})),t})());he(["click"]);const xi=document.getElementById("root");Bl(()=>e(yi,{}),xi);export{Qr as U,A as k};
